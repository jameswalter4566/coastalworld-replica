//  Merci-Michel [R]
//  https://www.merci-michel.com/
//  Build 20250626-165126

var e=Object.defineProperty,t=(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i);import{_ as n,a as i,r as s,w as a,b as o,c as l,o as r,d as c,e as u,u as d,f as p,g as f,s as h,h as v,i as m,j as g,k as y,l as b,m as _,n as w,C as k,p as x,q as $,t as C,v as S,x as M,y as T,z as E,A as L,B as P,D as I,E as A,F as D,G as F,H as O,T as z,I as B,J as H,K as V,L as N,M as j,N as Y,O as R,P as X,Q as q,R as W,S as U,U as G,V as K,W as Q,X as Z,Y as J,Z as ee,$ as te,a0 as ne,a1 as ie,a2 as se,a3 as ae,a4 as oe,a5 as le,a6 as re,a7 as ce,a8 as ue,a9 as de,aa as pe,ab as fe,ac as he,ad as ve,ae as me,af as ge,ag as ye,ah as be,ai as _e,aj as we,ak as ke,al as xe,am as $e,an as Ce,ao as Se,ap as Me,aq as Te,ar as Ee,as as Le,at as Pe,au as Ie,av as Ae,aw as De,ax as Fe,ay as Oe,az as ze,aA as Be,aB as He,aC as Ve,aD as Ne,aE as je,aF as Ye,aG as Re,aH as Xe,aI as qe,aJ as We,aK as Ue,aL as Ge}from"./vendor.75f6e6ae65453426.js";const Ke={key:0,class:"rotate-device"},Qe=["src"],Ze={class:"rotate-wrapper"},Je={class:"icon-wrapper"},et={class:"icon-rotate"},tt=n({__name:"RotateDevice",setup(e){const t=i.select(i.list(Object.assign({"/assets/images/rotate-background.avif":"/assets/rotate-background.be8447e265453426.avif","/assets/images/rotate-background.jpg":"/assets/rotate-background.3150193465453426.jpg","/assets/images/rotate-background.webp":"/assets/rotate-background.70bb5a6b65453426.webp"}))),n=s();return a(o.$viewport,(()=>n.value=matchMedia("only screen and (max-width: 1024px) and (orientation: landscape)").matches),{immediate:!0}),(e,i)=>{const s=l("SvgIcon");return n.value?(r(),c("div",Ke,[u("img",{src:d(t)},null,8,Qe),u("div",Ze,[u("div",Je,[u("div",et,[p(s,{id:"arrow-rotate",class:"arrow-left"}),p(s,{id:"mobile",class:"rotate-mobile"}),p(s,{id:"arrow-rotate",class:"arrow-right"})])])])])):f("",!0)}}},[["__scopeId","data-v-442a7017"]]);function nt({app:e,canvas:t}){let n,i;const s=e.$webgl,a="#ffffff",o=60;let l,r=1,c=0,u=0,d=0,p=0,f=!1;const y=h({initial:0,mass:1,friction:.6}),b=h({initial:0});return n=new ResizeObserver((e=>{return n=e[0].contentRect.width,s=e[0].contentRect.height,r=g(window.devicePixelRatio,1,2),d=o*r,p=n*r,n+=d,c=t.width=n*r,u=t.height=s*r,t.style.marginLeft=-o+"px",t.style.width=n+"px",t.style.height=s+"px",i.fillStyle=a,void _(!0);var n,s})),n.observe(t.parentNode),i=t.getContext("2d"),l=v((()=>e.$store.isMenuOpen?void(f||(m.add(_),f=!0,y.setTarget(1),b.setTarget(1),b.setMass(.3),b.setFriction(.15),b.setTension(.02))):void(f&&(m.add(_),f=!1,y.setTarget(0),b.setTarget(0),b.setMass(1),b.setFriction(.3),b.setTension(.1))))),_(!0),{dispose:function(){n.disconnect(),m.remove(_),l()}};function _(e){const t=s.time.dt;y.update(t),b.update(t);let n=p;const a=(1-y.value)*n+d,o=(1-b.value)*n+d;i.clearRect(0,0,c,u),i.beginPath(),i.moveTo(a,0),i.quadraticCurveTo(o,.5*u,a,u),i.lineTo(n+d,u),i.lineTo(n+d,0),i.closePath(),i.fill(),!0!==e&&y.stopped&&b.stopped&&m.remove(_)}}const it=["tabindex"],st={class:"menu-background"},at={class:"menu-container"},ot={class:"menu-buttons"},lt={class:"menu-infos"},rt=["innerHTML"],ct={class:"menu-footer"},ut=["tabindex","href"],dt=["tabindex","href"],pt={key:0},ft=["tabindex","href"],ht={id:"ot-sdk-btn",class:"ot-sdk-show-settings"},vt=["innerHTML"],mt=n({__name:"AppMenu",setup(e){const{listenKeys:t,unlistenKeys:n,isEscaped:i}=y(),h=s();let v;const m=b((()=>o.$store.isMenuOpen));function g(){o.$store.isAudioMuted=!o.$store.isAudioMuted}function M(){o.$analytics.event({event_category:"menu",event_action:"access_CCBUrl",event_value:""})}function T(){o.$store.isMenuOpen=!1,i.value=!1}function E(){o.$store.isLoggedIn||(o.$store.isFormOpen=!0,T())}function L(){o.$savestate.logout()}function P(e){o.$analytics.event({event_category:"menu",event_action:`access_${e}`,event_value:""})}return _((()=>{a((()=>o.$store.isMenuOpen),(()=>{o.$webgl.audio.playSound("sfx_phone_swipe")})),a((()=>i.value),(()=>{i.value&&T()})),t(),v=nt({app:o,canvas:h.value})})),w((()=>{n(),v.dispose()})),(e,t)=>{const n=l("SvgIcon");return r(),c("aside",{class:S(["menu",{"is-open":d(o).$store.isMenuOpen}]),tabindex:m.value?0:-1},[u("div",st,[u("canvas",{ref_key:"canvas",ref:h},null,512)]),u("div",at,[u("section",ot,[p(k,{"aria-label":e.$l("arialabel.close"),icon:"cross","bg-color":"green","icon-color":"white",tabindex:m.value?0:-1,onClick:T},null,8,["aria-label","tabindex"]),p(k,{"aria-label":e.$l("arialabel.sound"),icon:"sound","bg-color":"white","icon-color":"blue",tabindex:m.value?0:-1,onClick:g},null,8,["aria-label","tabindex"])]),u("section",lt,[p(n,{id:"logo-coastal-bank"}),u("p",{innerHTML:e.$l("global.baseline")},null,8,rt),p(x,{href:e.$l("menu.coastallink"),text:e.$l("cta.discover"),class:"menu-cta",tabindex:m.value?0:-1,onClick:M},null,8,["href","text","tabindex"]),d(o).$store.isLoggedIn?(r(),$(x,{key:1,color:"blue",text:e.$l("cta.logout"),class:"menu-cta",tabindex:m.value?0:-1,onClick:L},null,8,["text","tabindex"])):(r(),$(x,{key:0,color:"gray",text:e.$l("cta.login"),class:"menu-cta",tabindex:m.value?0:-1,onClick:E},null,8,["text","tabindex"]))]),u("footer",ct,[u("nav",null,[u("ul",null,[u("li",null,[u("a",{tabindex:m.value?0:-1,href:e.$l("menu.privacylink"),rel:"noopener noreferrer",target:"_blank",onClick:t[0]||(t[0]=e=>P("Privacy"))},C(e.$l("menu.privacy")),9,ut)]),u("li",null,[u("a",{tabindex:m.value?0:-1,href:e.$l("menu.termslink"),rel:"noopener noreferrer",target:"_blank",onClick:t[1]||(t[1]=e=>P("Terms"))},C(e.$l("menu.terms")),9,dt)]),e.$store.useCookieConsent?(r(),c("li",pt,[u("a",{tabindex:m.value?0:-1,href:e.$l("menu.cookieslink"),rel:"noopener noreferrer",target:"_blank",onClick:t[2]||(t[2]=e=>P("CookiePolicy"))},C(e.$l("menu.cookies")),9,ft)])):f("",!0),u("li",null,[u("button",ht,C(e.$onetrust.cookieSettingsText.value),1)])])]),u("p",{class:"credits",innerHTML:e.$l("menu.credits")+" "+e.$l("global.disclosure")},null,8,vt)])]),d(o).$store.isMenuOpen?(r(),c("div",{key:0,class:"menu-overlay","data-bypass-touch":"",onClick:T})):f("",!0)],10,it)}}},[["__scopeId","data-v-2fd699fb"]]),gt={__name:"Logo",props:{theme:{type:String,default:"white",validator:e=>["white","colored-half","colored-full"].includes(e)}},setup(e){const t=e;return(e,n)=>{const i=l("SvgIcon");return r(),c("div",{class:S(["logo",[t.theme]])},[p(i,{id:"logo-coastal-coastal"}),p(i,{id:"logo-coastal-world"})],2)}}},yt={class:"buttons"},bt=n({__name:"AppHeader",setup(e){const t=o.$store,n=b((()=>t.isHeaderVisible&&!t.isTransitionActive&&!t.isMenuOpen&&!t.isCustomizeOpen&&!t.isDialogVisible&&!t.isApiErrorVisible&&!t.isOverlayVisible&&!(o.$viewport.width<750&&o.$notifs.isTopActive.value)&&t.sceneState>=t.sceneStates.Playing&&!t.isTelescopeActiveDelayed&&!t.currentFullscreenVideo&&!t.isCinematicActive)),i=b((()=>n.value)),s=()=>{o.$store.isMenuOpen=!0},a=()=>{o.$store.isAudioMuted=!o.$store.isAudioMuted},l=()=>{o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$store.isCustomizeOpen=!0,o.$router.push({name:"Customize"})};return(e,t)=>(r(),c("header",{class:S(["app-header",{"is-visible":n.value}])},[p(gt,{class:"logo",theme:"white",tabindex:i.value?0:-1},null,8,["tabindex"]),u("div",yt,[p(k,{"aria-label":e.$l("arialabel.customize"),icon:"profile","bg-color":"bordered","icon-color":"white",tabindex:i.value?0:-1,onClick:l},null,8,["aria-label","tabindex"]),p(k,{"aria-label":e.$l("arialabel.sound"),icon:"sound","bg-color":"bordered","icon-color":"white",tabindex:i.value?0:-1,onClick:a},null,8,["aria-label","tabindex"]),p(k,{"aria-label":e.$l("arialabel.menu"),icon:"burger","bg-color":"bordered","icon-color":"white",tabindex:i.value?0:-1,onClick:s},null,8,["aria-label","tabindex"])])],2))}},[["__scopeId","data-v-08688f2d"]]),_t=Math.PI;function wt({app:e,canvas:t}){let n,i,s,a=1,o=0,l=0,r="#ffffff",c=0,u=0,d=0;const p=-_t/2;return n=new ResizeObserver((e=>{return n=e[0].contentRect.width,r=e[0].contentRect.height,a=g(window.devicePixelRatio,1,2),o=t.width=n*a,l=t.height=r*a,t.style.width=n+"px",t.style.height=r+"px",c=o/19,i.lineCap="round",s=i.createLinearGradient(0,0,0,l),s.addColorStop(0,"#05ad90"),s.addColorStop(1,"#78e8c8"),void f(!0);var n,r})),n.observe(t.parentNode),i=t.getContext("2d"),f(!0),{update:f,dispose:function(){n.disconnect()},set progress(e){d=e,f()}};function f(e){o<1||(e||u!==d)&&(u=d,i.clearRect(0,0,o,l),i.beginPath(),i.arc(.5*o,.5*l,.5*(o-c),0,2*_t),i.closePath(),i.lineWidth=c-1,i.strokeStyle=s,i.stroke(),d>0&&(i.beginPath(),i.arc(.5*o,.5*l,.5*(o-c),p,p+2*_t*d),i.strokeStyle=r,i.lineWidth=c,i.stroke()))}}const kt=(e=>(P("data-v-b03f534f"),e=e(),I(),e))((()=>u("figure",{class:"round"},null,-1))),xt=n({__name:"InteractionButton",setup(e){const t=M.get("interactions-yes"),n=()=>{},i=["mouseup","touchend","touchcancel"],l=s(),f=s(),h=s(),v=s(),m=s(),y=s(),k=s(t),x={onDone:n,onStart:n,onProgress:n,onStop:n,onTap:n},$=s({active:!1,mode:"tap",icon:"interactions-yes",...x});let P,I=1,A=0,D=0,F=0,O=!1,z=s(!1),B=s(!1),H=s(!0),V=!1,N=s(!0),j=!0;const Y=b((()=>$.value.active&&!N.value)),R=o.$store,X=b((()=>R.isDialogVisible||R.isNotHomeDelayed||R.isMenuOpen||o.$notifs.isOverlayActive.value||o.$notifs.isBottomActive.value||R.isFormOpen||R.isTransitionActive||R.isInteractionDone||R.isApiErrorVisible||R.sceneState<R.sceneStates.Playing||R.currentFullscreenVideo));function q(e){G(),e&&!e.locked?($.value.active=!0,Object.assign($.value,x,e),function(){if(o.$webgl.hooks.beforeFrame.unwatch(U),o.$webgl.hooks.beforeFrame.watch(U),se(),G(),k.value=M.get($.value.icon)||t,A=-1,D=F=0,V=!1,N.value=!1,O=!1,z.value=!1,!h.value)return;E({target:h.value,name:"softBounceOut",ease:"ease-in-out",duration:450})}()):($.value.active=!1,Object.assign($.value,x)),I=e&&e.speed?e.speed:1}_((()=>{P=wt({app:o,canvas:m.value}),o.$webgl.store.interactionButton.watchImmediate(q),a(Y,(e=>e?function(){if(!l.value)return;B.value=!0,H.value=!1,o.$store.isInteractionButtonVisible=!0,l.value.style.visibility="visible",l.value.getBoundingClientRect(),j=!1,te(),window.addEventListener("keydown",J,!0),window.addEventListener("keyup",ee,!0)}():async function(){let e=++W;if(!l.value)return;v.value.blur(),B.value=!1,H.value=!0,l.value.getBoundingClientRect(),te(),j||await T(600);if(!l.value||!H.value||e!==W)return;o.$store.isInteractionButtonVisible=!1,j||await T(900);if(j=!1,!l.value||!H.value||e!==W)return;l.value.style.visibility="hidden"}()),{immediate:!0})})),w((()=>{o.$webgl.store.interactionButton.unwatch(q),P.dispose(),se(),te()}));let W=0;function U(){if(N.value)return;const e=$.value.mode,t=o.$webgl.time.dt,n="hold-infinite"===e;if("click"===e)return;if("hold"===e||n?function(e){e*=I,O?(F<0&&(F=0),F=Math.min(.05,1.01*F+7e-6*e)):(F*=F>0?.8:1.02,F=Math.max(-.1,F-1e-5*e))}(t):"tap"===e&&function(e){D>.98&&(D=1);O?(F=0,O=!1,F=.02*I):(F*=F>0?.7:1.02,F=Math.max(-.005,F-3e-6*e))}(t),D<=1e-5&&F<=-.05)return;D=g(D+F,0,n?.22:1),(!n||D<1e-5)&&(P.progress=D),y.value=D<.1,!V&&D>0&&function(){if(V)return;V=!0,$.value.onStart&&$.value.onStart()}(),A!==D&&(A=D,$.value.onProgress&&$.value.onProgress(D)),V&&D<=0&&G(),D>=1&&K()}function G(){V&&(V=!1,$.value.onProgress&&$.value.onProgress(0),$.value.onStop&&$.value.onStop())}function K(){se(),N.value||(N.value=!0,$.value.onDone&&$.value.onDone(),V&&G(),Object.assign($.value,x))}function Q(){if(H.value)return;"click"===$.value.mode&&K()}const Z={Space:!0,Enter:!0};function J(e){if(X.value||!Y.value||H.value)return;if(!Z[e.code])return;e.preventDefault(),e.stopPropagation();const t=$.value.mode;"click"===t&&Q(),"tap"===t&&z.value||(!z.value&&"tap"===t&&$.value.onTap&&$.value.onTap(),O=!0,z.value=!0)}function ee(e){X.value||!Y.value||H.value||Z[e.code]&&z.value&&(e.preventDefault(),e.stopPropagation(),O=!1,z.value=!1)}function te(){z.value=!1,window.removeEventListener("keydown",J,!0),window.removeEventListener("keyup",ee,!0)}function ne(e){if(H.value)return;const t=$.value.mode;"click"!==t&&(e.preventDefault(),"hold"!==t&&"hold-infinite"!==t||i.forEach((e=>window.addEventListener(e,ie,!1))),!O&&"tap"===t&&$.value.onTap&&$.value.onTap(),O=!0)}function ie(e){se(),O=!1;"click"!==$.value.mode&&e.preventDefault()}function se(){i.forEach((e=>window.removeEventListener(e,ie,!1)))}return(e,t)=>(r(),c("aside",{ref_key:"base",ref:l,class:"interaction-button"},[u("div",{ref_key:"wrapper",ref:f,class:S(["wrapper",{["mode-"+$.value.mode]:!0,hidden:X.value,entering:d(B),leaving:d(H),hintvisible:y.value}])},[u("div",{ref_key:"bounce",ref:h,class:"bounce"},[u("button",{ref_key:"button",ref:v,class:S({keypressed:d(z)}),onClick:Q,onTouchstart:ne,onMousedown:ne},[p(d(L),{class:"icon","cache-id":"interactionButton",contain:!0,url:k.value},null,8,["url"]),u("canvas",{ref_key:"canvas",ref:m},null,512),kt],34),u("p",null,C("hold"===$.value.mode||"hold-infinite"===$.value.mode?d(o).$device.type.mobile?e.$l("cta.interaction.touch"):e.$l("cta.interaction.click"):e.$l("cta.interaction.tap")),1)],512)],2)],512))}},[["__scopeId","data-v-b03f534f"]]),$t=e=>(P("data-v-b69952e5"),e=e(),I(),e),Ct=[$t((()=>u("div",{class:"circle-outer"},null,-1)))],St=[$t((()=>u("div",{class:"circle-inner"},null,-1)))],Mt=n({__name:"Joystick",setup(e,{expose:t}){const n=o.$store,i=A(o.$webgl.store.joystickVisible),a=b((()=>i.value||"Home"!==o.$route.name||n.isDialogVisibleDelayed||n.isInteractionButtonVisibleDelayed||n.isMenuOpen||n.isFormOpen||n.isTransitionActiveDelayed||n.sceneState<n.sceneStates.Playing)),l=s(),d=s(),p=s();let f=null,h=0,g=!1,y=0,w=0,k=1,x=0,$=0,C=0,M=0;function T(){g=!1,d.value.visibility="",p.value.visibility="",l.value.classList.add("active"),m.add(L)}function E(){g||(g=!0,h=performance.now(),l.value.classList.remove("active"))}function L(){if(!f)return;if(!p.value)return;if(!d.value)return;if(g){performance.now()-h>1e3&&(d.value.visibility="hidden",p.value.visibility="hidden",m.remove(L)),x=0,$=0,k=.18}else x=f.relativePos.x,$=f.relativePos.y,k=1;const e=f.firstPos.x,t=f.firstPos.y;D(e,t,C,M)>1&&(C=~~e,M=~~t,p.value.style.transform=`translate(${C}px,${M}px)`);const n=Math.sqrt(x*x+$*$)||1,i=Math.min(n,75);x=x/n*i+e,$=$/n*i+t;const s=F(y,x,k),a=F(w,$,k);D(s,a,y,w)>.1&&(y=s,w=a,d.value.style.transform=`translate(${y}px,${w}px)`)}return _((()=>{f=o.$webgl.input.touch.value,v((()=>i.value?T():E()))})),t({show:T,hide:E}),(e,t)=>(r(),c("aside",{ref_key:"base",ref:l,class:"joystick"},[u("div",{class:S(["indicator",{hidden:a.value}])},null,2),u("div",{ref_key:"outCircle",ref:p,class:"outer-circle"},Ct,512),u("div",{ref_key:"innerCircle",ref:d,class:"inner-circle"},St,512)],512))}},[["__scopeId","data-v-b69952e5"]]),Tt={},Et=(e=>(P("data-v-1637091b"),e=e(),I(),e))((()=>u("div",{class:"vignetting"},null,-1))),Lt={key:0,class:"vignetting-lenses"};const Pt=n(Tt,[["render",function(e,t){return r(),c(B,null,[Et,p(z,{appear:""},{default:O((()=>[e.$store.isTelescopeActive?(r(),c("div",Lt)):f("",!0)])),_:1})],64)}],["__scopeId","data-v-1637091b"]]),It=n({__name:"Overlay",setup:e=>(e,t)=>(r(),c("div",{class:S(["overlay",{"is-visible":d(o).$store.isOverlayVisible,"is-semi-visible":d(o).$store.isOverlaySemiVisible}])},null,2))},[["__scopeId","data-v-55742171"]]),At={class:"dialog-about"},Dt={class:"dialog-wrapper"},Ft=(e=>(P("data-v-f40cd082"),e=e(),I(),e))((()=>u("div",{class:"dialog-background"},null,-1))),Ot=n({__name:"DialogAbout",props:{fintech:{default:"aspiration"}},setup(e){const t=e;async function n(){o.$dialogs.exitDialog(!0),o.$webgl.store.frozenPlayerDelay=450,await T(400),o.$router.push({name:"Phone"}),o.$store.phone.tab.id="FintechDetails",o.$store.phone.tab.props={fintech:t.fintech,isFromDialog:!0}}return(e,i)=>(r(),c("div",At,[u("div",Dt,[p(H,{icon:`logo-fintech-${t.fintech}`,class:"dialog-icon","is-button":!0,onClick:n},null,8,["icon"]),p(x,{color:"red",text:e.$l("cta.about"),class:"dialog-cta",size:"sm",onClick:n},null,8,["text"])]),Ft]))}},[["__scopeId","data-v-f40cd082"]]),zt=e=>(P("data-v-de70686d"),e=e(),I(),e),Bt=[zt((()=>u("div",{class:"bar"},null,-1))),zt((()=>u("div",{class:"dot"},null,-1)))],Ht=n({__name:"Exclamation",props:V,setup(e){const t=e;return(e,n)=>(r(),c("div",{class:S(["exclamation",[t.color]]),style:N(`--size-demult: ${t.sizeDemult};`)},Bt,6))}},[["__scopeId","data-v-de70686d"]]),Vt=n({__name:"ThreePoints",props:V,setup(e){const t=e;return(e,n)=>(r(),c("div",{class:S(["points",[t.color]]),style:N(`--size-demult: ${t.sizeDemult};`)},[(r(),c(B,null,j(3,(e=>u("div",{key:e,class:"point"}))),64))],6))}},[["__scopeId","data-v-9273af0f"]]),Nt=n({__name:"Question",props:V,setup(e){const t=e;return(e,n)=>{const i=l("SvgIcon");return r(),c("div",{class:S(["question",[t.color]]),style:N(`--size-demult: ${t.sizeDemult};`)},[p(i,{id:"question",class:"question-icon"})],6)}}},[["__scopeId","data-v-cd2647e2"]]),jt=n({__name:"Badge",props:{color:{type:String,default:"blue",validator:e=>["blue","purple","red"].includes(e)},icon:{type:String,default:"points",validator:e=>["points","exclamation","question"].includes(e)},position:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)}},setup(e){const t=e,n={points:Vt,exclamation:Ht,question:Nt};return(e,i)=>(r(),c("div",{class:S(["badge",[t.color,t.position]])},[(r(),$(Y(n[t.icon])))],2))}},[["__scopeId","data-v-984a6ff8"]]),Yt=e=>(P("data-v-9946fd7c"),e=e(),I(),e),Rt=Yt((()=>u("div",{class:"bubble-background"},null,-1))),Xt={key:0,class:"bubble-image"},qt=["innerHTML"],Wt=Yt((()=>u("div",{class:"bubble-pointer-wrapper"},[u("div",{class:"bubble-pointer"})],-1))),Ut={class:"badge-wrapper"},Gt={"à":"a","á":"a","â":"a","ô":"o","é":"e","è":"e","ê":"e"},Kt={a:{sfx:[1,4,6,7,11],face:[6,1]},e:{sfx:[3,10,11],face:[1,6]},i:{sfx:[3,10],face:[4,1,6]},o:{sfx:[5,8,9,13],face:[4,6]},bo:{sfx:[5,8,9,13],face:[4,6]},ho:{sfx:[2,8,10,13],face:[4,6]},u:{sfx:[2,8,10,13],face:[4,6]},y:{sfx:[2,3,12],face:[1,6]},ba:{sfx:[1,4,7,11],face:[4,1]},bb:{sfx:[1,4,6],face:[4]},r:{sfx:[7,10,11],face:[1,4,6]},s:{sfx:[2,3,12],face:[7,1]},z:{sfx:[2,3,12],face:[7]}},Qt=new Set(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","KeyW","KeyA","KeyS","KeyD","KeyQ","Escape","Enter","Space","KeyX"]),Zt=n({__name:"DialogBubble",props:["id","bubble","before"],setup(e){const t=e;let n=0;const i=o.$dialogs.current.speaker,a=i.seed,l=R.create(a),h=R.create(a),v=l.randomFloat(.85,1.4),m=(X(t.before)||[]).reduce(((e,t)=>(e[t.action]=t.opts,e)),{});let g=s(null),y=s(null);m.BUBBLE_STYLE&&(g.value=(m.BUBBLE_STYLE[0]||"").trim()),"custom-path"===g.value&&(y.value=M.get("misc-star"));const b=function(e){null==e&&(e="");return e.replace(/(^|[ >])([^ ><]+)?/gi,((e,t,n)=>{let i=t;if(void 0!==n){let e="";for(let t=0,i=n.length;t<i;t++){const i=n[t];e+=" "===i||" "===i||"&nbsp;"===i?i:'<span class="char">'+n[t]+"</span>"}i+='<span class="word">'+e+"</span>"}return i}))}(o.$tpl(t.bubble)),k=s(),x=s(!1),$=s([]);let C=!1,E=null,P=0;_((async()=>{window.addEventListener("keyup",Q,I),window.addEventListener("keydown",K,I),window.addEventListener("mousedown",Z,I),window.addEventListener("mouseup",J,I),window.addEventListener("touchstart",Z,I),window.addEventListener("touchend",J,I),window.addEventListener("touchcancel",J,I),$.value=Array.from(k.value.querySelectorAll(".char")),await T(o.$dialogs.isFirstNode()?700:100),k.value&&(E=setTimeout(H,20))})),w((()=>{clearTimeout(E),clearTimeout(n),U(),i&&i.isNPC&&(i.overrideMouth=null),$.value=[]}));const I=!0;let A=10,D="",F=!0,O=0;const z=[];function B(e){let t=0;return"…"===e?t=600:"."===e?t=300:":"===e?t=220:"?"===e?t=240:"!"===e?t=290:","===e&&(t=180),t}function H(){if(!k.value||!$.value)return;if(C){const e=$.value[P];e&&e.classList.add("visible"),P++}const e=$.value[P];if(!e)return E=setTimeout(W,C?100:300);e.classList.add("visible");const t=!$.value[P+1];let n=e.textContent.toLowerCase().trim();Gt[n]&&(n=Gt[n]),n=n.replace(/[^a-z.:…,?!]/g,"").trim();let i=B(n);if(C?i*=.15:(function(){const e=$.value[P+1];if(!e)return!1;let t=e.textContent.toLowerCase().trim();return Gt[t]&&(t=Gt[t]),t=t.replace(/[^a-z.:…,?!]/g,"").trim(),B(t)>0}()||t)&&(i*=0),E=setTimeout(H,C?8:30+i),P++,i)return A=10;let s=D+n;if(D=s,Kt[s]?z.push(s):Kt[n]&&z.push(n),z.length&&A++>=3){j(z.pop()),A=0}}let V=0,N=0;function j(e){if(!i.isNPC)return;const t=Kt[e],s=t.sfx,a=t.face,r=s[l.randomInt(0,s.length-1)];Kt.length=0;const c=performance.now();if(c-V>100&&(V=c,j(e),o.$webgl.audio.playSound("sfx_dialog_syllab",{variation:r,playbackRate:v})),c-N>90){N=c;const e=h.random()>.7,t=Y();if(F||i.overrideMouth==t){let e=a[0];"Fear"===(i&&i.animation&&i.animation.animationID)?(1===e&&(e=4),6===e&&(e=4)):function(){const e=i&&i.animation&&i.animation.animationID;return"Sad"===e||"Thinking"===e}()&&(1===e&&(e=7),6===e&&(e=4)),i.overrideMouth=e}else i.overrideMouth=t;F=!1,clearTimeout(n),n=setTimeout(q,e?90:190)}}function Y(){let e=0;const t=i&&i.animation&&i.animation.animationID;return"Thinking"===t||"Fear"===t?e=3:"Sad"===t&&(e=2),"Eloquant"===t?0:x.value?null:e}function q(){i.overrideMouth=Y()}function W(){x.value=!0,clearTimeout(n),n=setTimeout(q,20)}function U(){window.removeEventListener("keyup",Q,I),window.removeEventListener("keydown",K,I),window.removeEventListener("mousedown",Z,I),window.removeEventListener("mouseup",J,I),window.removeEventListener("touchstart",Z,I),window.removeEventListener("touchend",J,I),window.removeEventListener("touchcancel",J,I)}const G={};function K(e){const t=e.code;Qt.has(t)&&(e.preventDefault(),e.stopPropagation(),G[e.code]||(G[e.code]=!0,"Escape"!==e.code&&"KeyX"!==e.code?Z(e,!0):function(){const e=o.$dialogs;if(!(e.current&&e.current.opts&&e.current.opts.closable))return;U(),o.$dialogs.exitDialog(!0)}()))}function Q(e){const t=e.code;Qt.has(t)&&(e.preventDefault(),e.stopPropagation(),G[e.code]=!1,J(e,!0))}function Z(e,t){!0!==t&&e.target&&"BUTTON"===e.target.tagName||(e.preventDefault(),e.stopPropagation(),O+=1,C=!0,x.value&&(o.$dialogs.nextNode(),o.$webgl.audio.playSound("sfx_UI_dialog_next")))}function J(e,t){!0!==t&&e.target&&"BUTTON"===e.target.tagName||(e.preventDefault(),e.stopPropagation(),O<1&&(C=!1))}return(e,t)=>(r(),c("aside",{ref_key:"base",ref:k,class:S(["dialog-component dialog-bubble",[d(g)&&"style-"+d(g)]])},[u("section",{class:S(["bubble",{"is-done":x.value}])},[Rt,d(y)?(r(),c("div",Xt,[p(d(L),{class:"picture",contain:!0,url:d(y)},null,8,["url"])])):f("",!0),u("div",{class:"content",innerHTML:d(b)},null,8,qt)],2),Wt,u("div",Ut,[p(jt,{color:"red",icon:"points",position:"right"})])],2))}},[["__scopeId","data-v-9946fd7c"]]),Jt={class:"prompt"},en=n({__name:"Prompt",props:["choices"],emits:["select","cancel","confirm"],setup(e,{emit:t}){const n=e;let i=!1;const s=Object.values(n.choices||{}),a=s.pop(),o=s.pop();_((function(){window.addEventListener("keydown",v,!0),window.addEventListener("keyup",m,!0)})),q(g);const l={Escape:!0,KeyN:!0,KeyX:!0},u={Space:!0,Enter:!0,KeyY:!0},h={};function v(e){i||(l[e.code]||u[e.code])&&(h[e.code]=!0)}function m(e){if(i)return;if(!l[e.code]&&!u[e.code])return;e.preventDefault(),e.stopPropagation();const t=h[e.code];h[e.code]=!1,t&&(l[e.code]?y():u[e.code]&&b())}function g(){window.removeEventListener("keydown",v,!0),window.removeEventListener("keyup",m,!0)}function y(){i||(g(),i=!0,t("select",o),t("cancel"))}function b(){i||(g(),i=!0,t("select",a),t("confirm"))}return(e,t)=>(r(),c("div",Jt,[p(jt,{color:"blue",icon:"question"}),d(o)?(r(),$(x,{key:0,color:"gray",text:d(o).value?d(o).value:e.$l("cta.no"),onClick:y},null,8,["text"])):f("",!0),d(a)?(r(),$(x,{key:1,color:"green",text:d(a).value?d(a).value:e.$l("cta.continue"),onClick:b},null,8,["text"])):f("",!0)]))}},[["__scopeId","data-v-3df37bd2"]]),tn={class:"dialog-component dialog-buttons"},nn=n({__name:"DialogButtons",props:["id","choices"],setup(e){function t(e){o.$dialogs.makeChoice(e),o.$webgl.audio.playSound("sfx_UI_dialog_answer")}return(n,i)=>(r(),c("aside",tn,[p(en,{choices:e.choices,onSelect:t},null,8,["choices"])]))}},[["__scopeId","data-v-a65553f3"]]);function sn(e,t){for(let n=0;n<t.length;n++){let i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}let an="(prefers-reduced-motion: reduce)",on=4,ln=5,rn={CREATED:1,MOUNTED:2,IDLE:3,MOVING:on,SCROLLING:ln,DRAGGING:6,DESTROYED:7};function cn(e){e.length=0}function un(e,t,n){return Array.prototype.slice.call(e,t,n)}function dn(e){return e.bind.apply(e,[null].concat(un(arguments,1)))}let pn=setTimeout,fn=function(){};function hn(e){return requestAnimationFrame(e)}function vn(e,t){return typeof t===e}function mn(e){return!wn(e)&&vn("object",e)}let gn=Array.isArray,yn=dn(vn,"function"),bn=dn(vn,"string"),_n=dn(vn,"undefined");function wn(e){return null===e}function kn(e){return e instanceof HTMLElement}function xn(e){return gn(e)?e:[e]}function $n(e,t){xn(e).forEach(t)}function Cn(e,t){return e.indexOf(t)>-1}function Sn(e,t){return e.push.apply(e,xn(t)),e}function Mn(e,t,n){e&&$n(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function Tn(e,t){Mn(e,bn(t)?t.split(" "):t,!0)}function En(e,t){$n(t,e.appendChild.bind(e))}function Ln(e,t){$n(e,(function(e){let n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function Pn(e,t){return kn(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function In(e,t){let n=e?un(e.children):[];return t?n.filter((function(e){return Pn(e,t)})):n}function An(e,t){return t?In(e,t)[0]:e.firstElementChild}let Dn=Object.keys;function Fn(e,t,n){if(e){let i=Dn(e);i=n?i.reverse():i;for(let n=0;n<i.length;n++){let s=i[n];if("__proto__"!==s&&!1===t(e[s],s))break}}return e}function On(e){return un(arguments,1).forEach((function(t){Fn(t,(function(n,i){e[i]=t[i]}))})),e}function zn(e){return un(arguments,1).forEach((function(t){Fn(t,(function(t,n){gn(t)?e[n]=t.slice():mn(t)?e[n]=zn({},mn(e[n])?e[n]:{},t):e[n]=t}))})),e}function Bn(e,t){xn(t||Dn(e)).forEach((function(t){delete e[t]}))}function Hn(e,t){$n(e,(function(e){$n(t,(function(t){e&&e.removeAttribute(t)}))}))}function Vn(e,t,n){mn(t)?Fn(t,(function(t,n){Vn(e,n,t)})):$n(e,(function(e){wn(n)||""===n?Hn(e,t):e.setAttribute(t,String(n))}))}function Nn(e,t,n){let i=document.createElement(e);return t&&(bn(t)?Tn(i,t):Vn(i,t)),n&&En(n,i),i}function jn(e,t,n){if(_n(n))return getComputedStyle(e)[t];wn(n)||(e.style[t]=""+n)}function Yn(e,t){jn(e,"display",t)}function Rn(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function Xn(e,t){return e.getAttribute(t)}function qn(e,t){return e&&e.classList.contains(t)}function Wn(e){return e.getBoundingClientRect()}function Un(e){$n(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function Gn(e){return An((new DOMParser).parseFromString(e,"text/html").body)}function Kn(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function Qn(e,t){return e&&e.querySelector(t)}function Zn(e,t){return t?un(e.querySelectorAll(t)):[]}function Jn(e,t){Mn(e,t,!1)}function ei(e){return e.timeStamp}function ti(e){return bn(e)?e:e?e+"px":""}let ni="splide",ii="data-"+ni;function si(e,t){if(!e)throw new Error("["+ni+"] "+(t||""))}let ai=Math.min,oi=Math.max,li=Math.floor,ri=Math.ceil,ci=Math.abs;function ui(e,t,n){return ci(e-t)<n}function di(e,t,n,i){let s=ai(t,n),a=oi(t,n);return i?s<e&&e<a:s<=e&&e<=a}function pi(e,t,n){let i=ai(t,n),s=oi(t,n);return ai(oi(i,e),s)}function fi(e){return+(e>0)-+(e<0)}function hi(e,t){return $n(t,(function(t){e=e.replace("%s",""+t)})),e}function vi(e){return e<10?"0"+e:""+e}let mi={};function gi(){let e=[];function t(e,t,n){$n(e,(function(e){e&&$n(t,(function(t){t.split(" ").forEach((function(t){let i=t.split(".");n(e,i[0],i[1])}))}))}))}return{bind:function(n,i,s,a){t(n,i,(function(t,n,i){let o="addEventListener"in t,l=o?t.removeEventListener.bind(t,n,s,a):t.removeListener.bind(t,s);o?t.addEventListener(n,s,a):t.addListener(s),e.push([t,n,i,s,l])}))},unbind:function(n,i,s){t(n,i,(function(t,n,i){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==i||s&&e[3]!==s)||(e[4](),!1)}))}))},dispatch:function(e,t,n){let i;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:true,detail:n}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,true,!1,n)),e.dispatchEvent(i),i},destroy:function(){e.forEach((function(e){e[4]()})),cn(e)}}}let yi="mounted",bi="ready",_i="move",wi="moved",ki="shifted",xi="click",$i="active",Ci="inactive",Si="visible",Mi="hidden",Ti="slide:keydown",Ei="refresh",Li="updated",Pi="resize",Ii="resized",Ai="drag",Di="dragging",Fi="dragged",Oi="scroll",zi="scrolled",Bi="destroy",Hi="arrows:mounted",Vi="arrows:updated",Ni="pagination:mounted",ji="pagination:updated",Yi="navigation:mounted",Ri="autoplay:play",Xi="autoplay:playing",qi="autoplay:pause",Wi="lazyload:loaded";function Ui(e){let t=e?e.event.bus:document.createDocumentFragment(),n=gi();return e&&e.event.on(Bi,n.destroy),On(n,{bus:t,on:function(e,i){n.bind(t,xn(e).join(" "),(function(e){i.apply(i,gn(e.detail)?e.detail:[])}))},off:dn(n.unbind,t),emit:function(e){n.dispatch(t,e,un(arguments,1))}})}function Gi(e,t,n,i){let s,a,o=Date.now,l=0,r=!0,c=0;function u(){if(!r){if(l=e?ai((o()-s)/e,1):1,n&&n(l),l>=1&&(t(),s=o(),i&&++c>=i))return d();hn(u)}}function d(){r=!0}function p(){a&&cancelAnimationFrame(a),l=0,a=0,r=!0}return{start:function(t){!t&&p(),s=o()-(t?l*e:0),r=!1,hn(u)},rewind:function(){s=o(),l=0,n&&n(l)},pause:d,cancel:p,set:function(t){e=t},isPaused:function(){return r}}}let Ki="Arrow",Qi=Ki+"Left",Zi=Ki+"Right",Ji=Ki+"Up",es=Ki+"Down",ts="ttb",ns={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Ji,Zi],ArrowRight:[es,Qi]};let is="role",ss="tabindex",as="aria-",os=as+"controls",ls=as+"current",rs=as+"selected",cs=as+"label",us=as+"labelledby",ds=as+"hidden",ps=as+"orientation",fs=as+"roledescription",hs=as+"live",vs=as+"relevant",ms=[is,ss,"disabled",os,ls,cs,us,ds,ps,fs],gs=ni,ys=ni+"__track",bs=ni+"__list",_s=ni+"__slide",ws=_s+"--clone",ks=_s+"__container",xs=ni+"__arrows",$s=ni+"__arrow",Cs=$s+"--prev",Ss=$s+"--next",Ms=ni+"__pagination",Ts=Ms+"__page",Es=ni+"__progress"+"__bar",Ls=ni+"__toggle",Ps=ni+"__sr",Is="is-active",As="is-prev",Ds="is-next",Fs="is-visible",Os="is-loading",zs="is-focus-in",Bs=[Is,Fs,As,Ds,Os,zs],Hs={slide:_s,clone:ws,arrows:xs,arrow:$s,prev:Cs,next:Ss,pagination:Ms,page:Ts,spinner:ni+"__spinner"};let Vs="touchstart mousedown",Ns="touchmove mousemove",js="touchend touchcancel mouseup click";let Ys="slide",Rs="loop",Xs="fade";function qs(e,t,n,i){let s,a=Ui(e),o=a.on,l=a.emit,r=a.bind,c=e.Components,u=e.root,d=e.options,p=d.isNavigation,f=d.updateOnMove,h=d.i18n,v=d.pagination,m=d.slideFocus,g=c.Direction.resolve,y=Xn(i,"style"),b=Xn(i,cs),_=n>-1,w=An(i,"."+ks),k=Zn(i,d.focusableNodes||"");function x(){let s=e.splides.map((function(e){let n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");Vn(i,cs,hi(h.slideX,(_?n:t)+1)),Vn(i,os,s),Vn(i,is,m?"button":""),m&&Hn(i,fs)}function $(){s||C()}function C(){if(!s){let n=e.index;!function(){let e=S();e!==qn(i,Is)&&(Mn(i,Is,e),Vn(i,ls,p&&e||""),l(e?$i:Ci,M))}(),function(){let t=function(){if(e.is(Xs))return S();let t=Wn(c.Elements.track),n=Wn(i),s=g("left"),a=g("right");return li(t[s])<=ri(n[s])&&li(n[a])<=ri(t[a])}(),n=!t&&(!S()||_);e.state.is([on,ln])||Vn(i,ds,n||"");Vn(k,ss,n?-1:""),m&&Vn(i,ss,n?-1:0);t!==qn(i,Fs)&&(Mn(i,Fs,t),l(t?Si:Mi,M));if(!t&&document.activeElement===i){let t=c.Slides.getAt(e.index);t&&Rn(t.slide)}}(),Mn(i,As,t===n-1),Mn(i,Ds,t===n+1)}}function S(){let i=e.index;return i===t||d.cloneStatus&&i===n}var M={index:t,slideIndex:n,slide:i,container:w,isClone:_,mount:function(){_||(i.id=u.id+"-slide"+vi(t+1),Vn(i,is,v?"tabpanel":"group"),Vn(i,fs,h.slide),Vn(i,cs,b||hi(h.slideLabel,[t+1,e.length]))),r(i,"click",dn(l,xi,M)),r(i,"keydown",dn(l,Ti,M)),o([wi,ki,zi],C),o(Yi,x),f&&o(_i,$)},destroy:function(){s=!0,a.destroy(),Jn(i,Bs),Hn(i,ms),Vn(i,"style",y),Vn(i,cs,b||"")},update:C,style:function(e,t,n){jn(n&&w||i,e,t)},isWithin:function(n,i){let s=ci(n-t);return _||!d.rewind&&!e.is(Rs)||(s=ai(s,e.length-s)),s<=i}};return M}let Ws=ii+"-interval";let Us={passive:!1,capture:!0};let Gs={Spacebar:" ",Right:Zi,Left:Qi,Up:Ji,Down:es};function Ks(e){return e=bn(e)?e:e.key,Gs[e]||e}let Qs="keydown";let Zs=ii+"-lazy",Js=Zs+"-srcset",ea="["+Zs+"], ["+Js+"]";let ta=[" ","Enter"];let na=Object.freeze({__proto__:null,Media:function(e,t,n){let i=e.state,s=n.breakpoints||{},a=n.reducedMotion||{},o=gi(),l=[];function r(e){e&&o.destroy()}function c(e,t){let n=matchMedia(t);o.bind(n,"change",u),l.push([e,n])}function u(){let t=i.is(7),s=n.direction,a=l.reduce((function(e,t){return zn(e,t[1].matches?t[0]:{})}),{});Bn(n),d(a),n.destroy?e.destroy("completely"===n.destroy):t?(r(!0),e.mount()):s!==n.direction&&e.refresh()}function d(t,s){zn(n,t),s&&zn(Object.getPrototypeOf(n),t),i.is(1)||e.emit(Li,n)}return{setup:function(){let e="min"===n.mediaQuery;Dn(s).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){c(s[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),c(a,an),u()},destroy:r,reduce:function(e){matchMedia(an).matches&&(e?zn(n,a):Bn(n,Dn(a)))},set:d}},Direction:function(e,t,n){return{resolve:function(e,t,i){let s="rtl"!==(i=i||n.direction)||t?i===ts?0:-1:1;return ns[e]&&ns[e][s]||e.replace(/width|left|right/i,(function(e,t){let n=ns[e.toLowerCase()][s]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){let i,s,a,o=Ui(e),l=o.on,r=o.bind,c=e.root,u=n.i18n,d={},p=[],f=[],h=[];function v(){i=y("."+ys),s=An(i,"."+bs),si(i&&s,"A track/list element is missing."),Sn(p,In(s,"."+_s+":not(."+ws+")")),Fn({arrows:xs,pagination:Ms,prev:Cs,next:Ss,bar:Es,toggle:Ls},(function(e,t){d[t]=y("."+e)})),On(d,{root:c,track:i,list:s,slides:p}),function(){let e=c.id||(a=ni,""+a+vi(mi[a]=(mi[a]||0)+1)),t=n.role;var a;c.id=e,i.id=i.id||e+"-track",s.id=s.id||e+"-list",!Xn(c,is)&&"SECTION"!==c.tagName&&t&&Vn(c,is,t);Vn(c,fs,u.carousel),Vn(s,is,"presentation")}(),g()}function m(e){let t=ms.concat("style");cn(p),Jn(c,f),Jn(i,h),Hn([i,s],t),Hn(c,e?t:["style",fs])}function g(){Jn(c,f),Jn(i,h),f=b(gs),h=b(ys),Tn(c,f),Tn(i,h),Vn(c,cs,n.label),Vn(c,us,n.labelledby)}function y(e){let t=Qn(c,e);return t&&function(e,t){if(yn(e.closest))return e.closest(t);let n=e;for(;n&&1===n.nodeType&&!Pn(n,t);)n=n.parentElement;return n}(t,"."+gs)===c?t:void 0}function b(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===gs&&Is]}return On(d,{setup:v,mount:function(){l(Ei,m),l(Ei,v),l(Li,g),r(document,Vs+" keydown",(function(e){a="keydown"===e.type}),{capture:!0}),r(c,"focusin",(function(){Mn(c,zs,!!a)}))},destroy:m})},Slides:function(e,t,n){let i=Ui(e),s=i.on,a=i.emit,o=i.bind,l=t.Elements,r=l.slides,c=l.list,u=[];function d(){r.forEach((function(e,t){f(e,t,-1)}))}function p(){v((function(e){e.destroy()})),cn(u)}function f(t,n,i){let s=qs(e,n,i,t);s.mount(),u.push(s)}function h(e){return e?m((function(e){return!e.isClone})):u}function v(e,t){h(t).forEach(e)}function m(e){return u.filter(yn(e)?e:function(t){return bn(e)?Pn(t.slide,e):Cn(xn(e),t.index)})}return{mount:function(){d(),s(Ei,p),s(Ei,d),s([yi,Ei],(function(){u.sort((function(e,t){return e.index-t.index}))}))},destroy:p,update:function(){v((function(e){e.update()}))},register:f,get:h,getIn:function(e){let i=t.Controller,s=i.toIndex(e),a=i.hasFocus()?1:n.perPage;return m((function(e){return di(e.index,s,s+a-1)}))},getAt:function(e){return m(e)[0]},add:function(e,t){$n(e,(function(e){if(bn(e)&&(e=Gn(e)),kn(e)){let i=r[t];i?Ln(e,i):En(c,e),Tn(e,n.classes.slide),function(e,t){let n=Zn(e,"img"),i=n.length;i?n.forEach((function(e){o(e,"load error",(function(){--i||t()}))})):t()}(e,dn(a,Pi))}})),a(Ei)},remove:function(e){Un(m(e).map((function(e){return e.slide}))),a(Ei)},forEach:v,filter:m,style:function(e,t,n){v((function(i){i.style(e,t,n)}))},getLength:function(e){return e?r.length:u.length},isEnough:function(){return u.length>n.perPage}}},Layout:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.bind,r=a.emit,c=t.Slides,u=t.Direction.resolve,d=t.Elements,p=d.root,f=d.track,h=d.list,v=c.getAt,m=c.style;function g(){s=null,i=n.direction===ts,jn(p,"maxWidth",ti(n.width)),jn(f,u("paddingLeft"),b(!1)),jn(f,u("paddingRight"),b(!0)),y()}function y(){let e=Wn(p);s&&s.width===e.width&&s.height===e.height||(jn(f,"height",function(){let e="";i&&(e=_(),si(e,"height or heightRatio is missing."),e="calc("+e+" - "+b(!1)+" - "+b(!0)+")");return e}()),m(u("marginRight"),ti(n.gap)),m("width",n.autoWidth?null:ti(n.fixedWidth)||(i?"":w())),m("height",ti(n.fixedHeight)||(i?n.autoHeight?null:w():_()),!0),s=e,r(Ii))}function b(e){let t=n.padding,i=u(e?"right":"left");return t&&ti(t[i]||(mn(t)?0:t))||"0px"}function _(){return ti(n.height||Wn(h).width*n.heightRatio)}function w(){let e=ti(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function k(e,t){let n=v(e);if(n){let e=Wn(n.slide)[u("right")],i=Wn(h)[u("left")];return ci(e-i)+(t?0:x())}return 0}function x(){let e=v(0);return e&&parseFloat(jn(e.slide,u("marginRight")))||0}return{mount:function(){g(),l(window,"resize load",function(e,t){let n;return function(){n||(n=Gi(t||0,(function(){e(),n=null}),null,1),n.start())}}(dn(r,Pi))),o([Li,Ei],g),o(Pi,y)},listSize:function(){return Wn(h)[u("width")]},slideSize:function(e,t){let n=v(e||0);return n?Wn(n.slide)[u("width")]+(t?0:x()):0},sliderSize:function(){return k(e.length-1,!0)-k(-1,!0)},totalSize:k,getPadding:function(e){return parseFloat(jn(f,u("padding"+(e?"Right":"Left"))))||0}}},Clones:function(e,t,n){let i,s=Ui(e),a=s.on,o=s.emit,l=t.Elements,r=t.Slides,c=t.Direction.resolve,u=[];function d(){(i=h())&&(!function(t){let i=r.get().slice(),s=i.length;if(s){for(;i.length<t;)Sn(i,i);Sn(i.slice(-t),i.slice(0,t)).forEach((function(a,o){let c=o<t,d=function(t,i){let s=t.cloneNode(!0);return Tn(s,n.classes.clone),s.id=e.root.id+"-clone"+vi(i+1),s}(a.slide,o);c?Ln(d,i[0].slide):En(l.list,d),Sn(u,d),r.register(d,o-t+(c?0:s),a.index)}))}}(i),o(Pi))}function p(){Un(u),cn(u)}function f(){i<h()&&o(Ei)}function h(){let i=n.clones;if(e.is(Rs)){if(!i){let s=n[c("fixedWidth")]&&t.Layout.slideSize(0);i=s&&ri(Wn(l.track)[c("width")]/s)||n[c("autoWidth")]&&e.length||2*n.perPage}}else i=0;return i}return{mount:function(){d(),a(Ei,p),a(Ei,d),a([Li,Pi],f)},destroy:p}},Move:function(e,t,n){let i,s=Ui(e),a=s.on,o=s.emit,l=e.state.set,r=t.Layout,c=r.slideSize,u=r.getPadding,d=r.totalSize,p=r.listSize,f=r.sliderSize,h=t.Direction,v=h.resolve,m=h.orient,g=t.Elements,y=g.list,b=g.track;function _(){t.Controller.isBusy()||(t.Scroll.cancel(),w(e.index),t.Slides.update())}function w(e){k(C(e,!0))}function k(t,n){if(!e.is(Xs)){let i=n?t:function(t){if(e.is(Rs)){let e=m(t-S()),n=T(!1,t)&&e<0,i=T(!0,t)&&e>0;(n||i)&&(t=x(t,i))}return t}(t);jn(y,"transform","translate"+v("X")+"("+i+"px)"),t!==i&&o(ki)}}function x(e,t){let n=e-M(t),i=f();return e-=m(i*(ri(ci(n)/i)||1))*(t?1:-1)}function $(){k(S()),i.cancel()}function C(t,i){let s=m(d(t-1)-function(e){let t=n.focus;return"center"===t?(p()-c(e,!0))/2:+t*c(e)||0}(t));return i?function(t){n.trimSpace&&e.is(Ys)&&(t=pi(t,0,m(f()-p())));return t}(s):s}function S(){let e=v("left");return Wn(y)[e]-Wn(b)[e]+m(u(!1))}function M(e){return C(e?t.Controller.getEnd():0,!!n.trimSpace)}function T(e,t){t=_n(t)?S():t;let n=!0!==e&&m(t)<m(M(!1)),i=!1!==e&&m(t)>m(M(!0));return n||i}return{mount:function(){i=t.Transition,a([yi,Ii,Li,Ei],_)},move:function(e,t,n,s){let a=S();e!==t&&function(e){let t=m(x(S(),e));return e?t>=0:t<=y[v("scrollWidth")]-Wn(b)[v("width")]}(e>t)&&($(),k(x(a,e>t),!0)),l(on),o(_i,t,n,e),i.start(t,(function(){l(3),o(wi,t,n,e),s&&s()}))},jump:w,translate:k,shift:x,cancel:$,toIndex:function(e){let n=t.Slides.get(),i=0,s=Infinity;for(let t=0;t<n.length;t++){let a=n[t].index,o=ci(C(a,!0)-e);if(!(o<=s))break;s=o,i=a}return i},toPosition:C,getPosition:S,getLimit:M,exceededLimit:T,reposition:_}},Controller:function(e,t,n){let i,s,a,o=Ui(e).on,l=t.Move,r=l.getPosition,c=l.getLimit,u=l.toPosition,d=t.Slides,p=d.isEnough,f=d.getLength,h=e.is(Rs),v=e.is(Ys),m=dn(w,!1),g=dn(w,!0),y=n.start||0,b=y;function _(){i=f(!0),s=n.perMove,a=n.perPage;let e=pi(y,0,i-1);e!==y&&(y=e,l.reposition())}function w(e,t){let n=s||(T()?1:a),i=k(y+n*(e?-1:1),y,!(s||T()));return-1===i&&v&&!ui(r(),c(!e),1)?e?0:$():t?i:x(i)}function k(t,s,o){if(p()){let l=$(),c=function(t){if(v&&"move"===n.trimSpace&&t!==y){let i=r();for(;i===u(t,!0)&&di(t,0,e.length-1,!n.rewind);)t<y?--t:++t}return t}(t);c!==t&&(s=t,t=c,o=!1),t<0||t>l?t=di(0,t,s,!0)||di(l,s,t,!0)?C(S(t)):h?o?t<0?-(i%a||a):i:t:n.rewind?t<0?l:0:-1:o&&t!==s&&(t=C(S(s)+(t<s?-1:1)))}else t=-1;return t}function x(e){return h?(e+i)%i||0:e}function $(){return oi(i-(T()||h&&s?1:a),0)}function C(e){return pi(T()?e:a*e,0,$())}function S(e){return T()?e:li((e>=$()?i-1:e)/a)}function M(e){e!==y&&(b=y,y=e)}function T(){return!_n(n.focus)||n.isNavigation}function E(){return e.state.is([on,ln])&&!!n.waitForTransition}return{mount:function(){_(),o([Li,Ei],_)},go:function(e,t,n){if(!E()){let i=function(e){let t=y;if(bn(e)){let n=e.match(/([+\-<>])(\d+)?/)||[],i=n[1],s=n[2];"+"===i||"-"===i?t=k(y+ +(""+i+(+s||1)),y):">"===i?t=s?C(+s):m(!0):"<"===i&&(t=g(!0))}else t=h?e:pi(e,0,$());return t}(e),s=x(i);s>-1&&(t||s!==y)&&(M(s),l.move(i,s,b,n))}},scroll:function(e,n,i,s){t.Scroll.scroll(e,n,i,(function(){M(x(l.toIndex(l.getPosition()))),s&&s()}))},getNext:m,getPrev:g,getAdjacent:w,getEnd:$,setIndex:M,getIndex:function(e){return e?b:y},toIndex:C,toPage:S,toDest:function(e){let t=l.toIndex(e);return v?pi(t,0,$()):t},hasFocus:T,isBusy:E}},Arrows:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.bind,r=a.emit,c=n.classes,u=n.i18n,d=t.Elements,p=t.Controller,f=d.arrows,h=d.track,v=f,m=d.prev,g=d.next,y={};function b(){!function(){let e=n.arrows;!e||m&&g||(v=f||Nn("div",c.arrows),m=x(!0),g=x(!1),i=!0,En(v,[m,g]),!f&&Ln(v,h));m&&g&&(On(y,{prev:m,next:g}),Yn(v,e?"":"none"),Tn(v,s=xs+"--"+n.direction),e&&(o([wi,Ei,zi],$),l(g,"click",dn(k,">")),l(m,"click",dn(k,"<")),$(),Vn([m,g],os,h.id),r(Hi,m,g)))}(),o(Li,_)}function _(){w(),b()}function w(){a.destroy(),Jn(v,s),i?(Un(f?[m,g]:v),m=g=null):Hn([m,g],ms)}function k(e){p.go(e,!0)}function x(e){return Gn('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function $(){let t=e.index,n=p.getPrev(),i=p.getNext(),s=n>-1&&t<n?u.last:u.prev,a=i>-1&&t>i?u.first:u.next;m.disabled=n<0,g.disabled=i<0,Vn(m,cs,s),Vn(g,cs,a),r(Vi,m,g,n,i)}return{arrows:y,mount:b,destroy:w}},Autoplay:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.bind,r=a.emit,c=Gi(n.interval,e.go.bind(e,">"),(function(e){let t=d.bar;t&&jn(t,"width",100*e+"%"),r(Xi,e)})),u=c.isPaused,d=t.Elements,p=t.Elements,f=p.root,h=p.toggle,v=n.autoplay,m="pause"===v;function g(){u()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),s=i=m=!1,_(),r(Ri))}function y(e){void 0===e&&(e=!0),m=!!e,_(),u()||(c.pause(),r(qi))}function b(){m||(i||s?y(!1):g())}function _(){h&&(Mn(h,Is,!m),Vn(h,cs,n.i18n[m?"play":"pause"]))}function w(e){let i=t.Slides.getAt(e);c.set(i&&+Xn(i.slide,Ws)||n.interval)}return{mount:function(){v&&(!function(){n.pauseOnHover&&l(f,"mouseenter mouseleave",(function(e){i="mouseenter"===e.type,b()}));n.pauseOnFocus&&l(f,"focusin focusout",(function(e){s="focusin"===e.type,b()}));h&&l(h,"click",(function(){m?g():y(!0)}));o([_i,Oi,Ei],c.rewind),o(_i,w)}(),h&&Vn(h,os,d.track.id),m||g(),_())},destroy:c.cancel,play:g,pause:y,isPaused:u}},Cover:function(e,t,n){let i=Ui(e).on;function s(e){t.Slides.forEach((function(t){let n=An(t.container||t.slide,"img");n&&n.src&&a(e,n,t)}))}function a(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),Yn(t,e?"none":"")}return{mount:function(){n.cover&&(i(Wi,dn(a,!0)),i([yi,Li,Ei],dn(s,!0)))},destroy:dn(s,!1)}},Scroll:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.emit,r=e.state.set,c=t.Move,u=c.getPosition,d=c.getLimit,p=c.exceededLimit,f=c.translate,h=1;function v(e,n,a,o,d){let p=u();if(y(),a){let n=t.Layout.sliderSize(),i=fi(e)*n*li(ci(e)/n)||0;e=c.toPosition(t.Controller.toDest(e%n))+i}let f=ui(p,e,1);h=1,n=f?0:n||oi(ci(e-p)/1.5,800),s=o,i=Gi(n,m,dn(g,p,e,d),1),r(ln),l(Oi),i.start()}function m(){r(3),s&&s(),l(zi)}function g(t,i,s,a){let o=u(),l=(t+(i-t)*function(e){let t=n.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(a)-o)*h;f(o+l),e.is(Ys)&&!s&&p()&&(h*=.6,ci(l)<10&&v(d(p(!0)),600,!1,void 0,!0))}function y(){i&&i.cancel()}function b(){i&&!i.isPaused()&&(y(),m())}return{mount:function(){o(_i,y),o([Li,Ei],b)},destroy:y,scroll:v,cancel:b}},Drag:function(e,t,n){let i,s,a,o,l,r,c,u,d=Ui(e),p=d.on,f=d.emit,h=d.bind,v=d.unbind,m=e.state,g=t.Move,y=t.Scroll,b=t.Controller,_=t.Elements.track,w=t.Media.reduce,k=t.Direction,x=k.resolve,$=k.orient,C=g.getPosition,S=g.exceededLimit,M=!1;function T(){let e=n.drag;H(!e),o="free"===e}function E(e){if(r=!1,!c){let t=B(e);!function(e){let t=n.noDrag;return!(Pn(e,"."+Ts+", ."+$s)||t&&Pn(e,t))}(e.target)||!t&&e.button||(b.isBusy()?Kn(e,!0):(u=t?_:window,l=m.is([on,ln]),a=null,h(u,Ns,L,Us),h(u,js,P,Us),g.cancel(),y.cancel(),A(e)))}}function L(t){if(m.is(6)||(m.set(6),f(Ai)),t.cancelable)if(l){g.translate(i+D(t)/(M&&e.is(Ys)?5:1));let n=F(t)>200,s=M!==(M=S());(n||s)&&A(t),r=!0,f(Di),Kn(t)}else(function(e){return ci(D(e))>ci(D(e,!0))})(t)&&(l=function(e){let t=n.dragMinThreshold,i=mn(t),s=i&&t.mouse||0,a=(i?t.touch:+t)||10;return ci(D(e))>(B(e)?a:s)}(t),Kn(t))}function P(i){m.is(6)&&(m.set(3),f(Fi)),l&&(!function(i){let s=function(t){if(e.is(Rs)||!M){let e=F(t);if(e&&e<200)return D(t)/e}return 0}(i),a=function(e){return C()+fi(e)*ai(ci(e)*(n.flickPower||600),o?Infinity:t.Layout.listSize()*(n.flickMaxPages||1))}(s),l=n.rewind&&n.rewindByDrag;w(!1),o?b.scroll(a,0,n.snap):e.is(Xs)?b.go($(fi(s))<0?l?"<":"-":l?">":"+"):e.is(Ys)&&M&&l?b.go(S(!0)?">":"<"):b.go(b.toDest(a),!0);w(!0)}(i),Kn(i)),v(u,Ns,L),v(u,js,P),l=!1}function I(e){!c&&r&&Kn(e,!0)}function A(e){a=s,s=e,i=C()}function D(e,t){return z(e,t)-z(O(e),t)}function F(e){return ei(e)-ei(O(e))}function O(e){return s===e&&a||s}function z(e,t){return(B(e)?e.changedTouches[0]:e)["page"+x(t?"Y":"X")]}function B(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function H(e){c=e}return{mount:function(){h(_,Ns,fn,Us),h(_,js,fn,Us),h(_,Vs,E,Us),h(_,"click",I,{capture:!0}),h(_,"dragstart",Kn),p([yi,Li],T)},disable:H,isDragging:function(){return l}}},Keyboard:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.bind,r=a.unbind,c=e.root,u=t.Direction.resolve;function d(){let e=n.keyboard;e&&(i="global"===e?window:c,l(i,Qs,h))}function p(){r(i,Qs)}function f(){let e=s;s=!0,pn((function(){s=e}))}function h(t){if(!s){let n=Ks(t);n===u(Qi)?e.go("<"):n===u(Zi)&&e.go(">")}}return{mount:function(){d(),o(Li,p),o(Li,d),o(_i,f)},destroy:p,disable:function(e){s=e}}},LazyLoad:function(e,t,n){let i=Ui(e),s=i.on,a=i.off,o=i.bind,l=i.emit,r="sequential"===n.lazyLoad,c=[yi,Ei,wi,zi],u=[];function d(){cn(u),t.Slides.forEach((function(e){Zn(e.slide,ea).forEach((function(t){let i=Xn(t,Zs),s=Xn(t,Js);if(i!==t.src||s!==t.srcset){let i=n.classes.spinner,s=t.parentElement,a=An(s,"."+i)||Nn("span",i,s);u.push([t,e,a]),t.src||Yn(t,"none")}}))})),r&&v()}function p(){u=u.filter((function(t){let i=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,i)||f(t)})),u.length||a(c)}function f(e){let t=e[0];Tn(e[1].slide,Os),o(t,"load error",dn(h,e)),Vn(t,"src",Xn(t,Zs)),Vn(t,"srcset",Xn(t,Js)),Hn(t,Zs),Hn(t,Js)}function h(e,t){let n=e[0],i=e[1];Jn(i.slide,Os),"error"!==t.type&&(Un(e[2]),Yn(n,""),l(Wi,n,i),l(Pi)),r&&v()}function v(){u.length&&f(u.shift())}return{mount:function(){n.lazyLoad&&(d(),s(Ei,d),r||s(c,p))},destroy:dn(cn,u)}},Pagination:function(e,t,n){let i,s,a=Ui(e),o=a.on,l=a.emit,r=a.bind,c=t.Slides,u=t.Elements,d=t.Controller,p=d.hasFocus,f=d.getIndex,h=d.go,v=t.Direction.resolve,m=[];function g(){i&&(Un(u.pagination?un(i.children):i),Jn(i,s),cn(m),i=null),a.destroy()}function y(e){h(">"+e,!0)}function b(e,t){let n=m.length,i=Ks(t),s=_(),a=-1;i===v(Zi,!1,s)?a=++e%n:i===v(Qi,!1,s)?a=(--e+n)%n:"Home"===i?a=0:"End"===i&&(a=n-1);let o=m[a];o&&(Rn(o.button),h(">"+a),Kn(t,!0))}function _(){return n.paginationDirection||n.direction}function w(e){return m[d.toPage(e)]}function k(){let e=w(f(!0)),t=w(f());if(e){let t=e.button;Jn(t,Is),Hn(t,rs),Vn(t,ss,-1)}if(t){let e=t.button;Tn(e,Is),Vn(e,rs,!0),Vn(e,ss,"")}l(ji,{list:i,items:m},e,t)}return{items:m,mount:function t(){g(),o([Li,Ei],t),n.pagination&&c.isEnough()&&(o([_i,Oi,zi],k),function(){let t=e.length,a=n.classes,o=n.i18n,l=n.perPage,d=p()?t:ri(t/l);i=u.pagination||Nn("ul",a.pagination,u.track.parentElement),Tn(i,s=Ms+"--"+_()),Vn(i,is,"tablist"),Vn(i,cs,o.select),Vn(i,ps,_()===ts?"vertical":"");for(let e=0;e<d;e++){let t=Nn("li",null,i),s=Nn("button",{class:a.page,type:"button"},t),u=c.getIn(e).map((function(e){return e.slide.id})),d=!p()&&l>1?o.pageX:o.slideX;r(s,"click",dn(y,e)),n.paginationKeyboard&&r(s,"keydown",dn(b,e)),Vn(t,is,"presentation"),Vn(s,is,"tab"),Vn(s,os,u.join(" ")),Vn(s,cs,hi(d,e+1)),Vn(s,ss,-1),m.push({li:t,button:s,page:e})}}(),k(),l(Ni,{list:i,items:m},w(e.index)))},destroy:g,getAt:w,update:k}},Sync:function(e,t,n){let i=n.isNavigation,s=n.slideFocus,a=[];function o(){e.splides.forEach((function(t){t.isParent||(r(e,t.splide),r(t.splide,e))})),i&&function(){let t=Ui(e),n=t.on;n(xi,u),n(Ti,d),n([yi,Li],c),a.push(t),t.emit(Yi,e.splides)}()}function l(){a.forEach((function(e){e.destroy()})),cn(a)}function r(e,t){let n=Ui(e);n.on(_i,(function(e,n,i){t.go(t.is(Rs)?i:e)})),a.push(n)}function c(){Vn(t.Elements.list,ps,n.direction===ts?"vertical":"")}function u(t){e.go(t.index)}function d(e,t){Cn(ta,Ks(t))&&(u(e),Kn(t))}return{setup:function(){e.options={slideFocus:_n(s)?i:s}},mount:o,destroy:l,remount:function(){l(),o()}}},Wheel:function(e,t,n){let i=Ui(e).bind,s=0;function a(i){if(i.cancelable){let a=i.deltaY,o=a<0,l=ei(i),r=n.wheelMinThreshold||0,c=n.wheelSleep||0;ci(a)>r&&l-s>c&&(e.go(o?"<":">"),s=l),function(i){return!n.releaseWheel||e.state.is(on)||-1!==t.Controller.getAdjacent(i)}(o)&&Kn(i)}}return{mount:function(){n.wheel&&i(t.Elements.track,"wheel",a,Us)}}},Live:function(e,t,n){let i=Ui(e).on,s=t.Elements.track,a=n.live&&!n.isNavigation,o=Nn("span",Ps);function l(e){a&&Vn(s,hs,e?"off":"polite")}return{mount:function(){a&&(l(!t.Autoplay.isPaused()),Vn(s,vs,"additions"),o.textContent="…",i(Ri,dn(l,!0)),i(qi,dn(l,!1)),i([wi,zi],dn(En,s,o)))},disable:l,destroy:function(){Hn(s,[hs,vs]),Un(o)}}}}),ia={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Hs,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function sa(e,t,n){let i=Ui(e).on;return{mount:function(){i([yi,Ei],(function(){pn((function(){t.Slides.style("transition","opacity "+n.speed+"ms "+n.easing)}))}))},start:function(e,n){let i=t.Elements.track;jn(i,"height",ti(Wn(i).height)),pn((function(){n(),jn(i,"height","")}))},cancel:fn}}function aa(e,t,n){let i,s=Ui(e).bind,a=t.Move,o=t.Controller,l=t.Scroll,r=t.Elements.list,c=dn(jn,r,"transition");function u(){c(""),l.cancel()}return{mount:function(){s(r,"transitionend",(function(e){e.target===r&&i&&(u(),i())}))},start:function(t,s){let r=a.toPosition(t,!0),u=a.getPosition(),d=function(t){let i=n.rewindSpeed;if(e.is(Ys)&&i){let e=o.getIndex(!0),n=o.getEnd();if(0===e&&t>=n||e>=n&&0===t)return i}return n.speed}(t);ci(r-u)>=1&&d>=1?n.useScroll?l.scroll(r,d,!1,s):(c("transform "+d+"ms "+n.easing),a.translate(r,!0),i=s):(a.jump(t),s())},cancel:u}}let oa=function(){function e(t,n){this.event=Ui(),this.Components={},this.state=function(e){let t=e;return{set:function(e){t=e},is:function(e){return Cn(xn(e),t)}}}(1),this.splides=[],this._o={},this._E={};let i=bn(t)?Qn(document,t):t;si(i,i+" is invalid."),this.root=i,n=zn({label:Xn(i,cs)||"",labelledby:Xn(i,us)||""},ia,e.defaults,n||{});try{zn(n,JSON.parse(Xn(i,ii)))}catch(s){si(!1,"Invalid JSON")}this._o=Object.create(zn({},n))}let t=e.prototype;var n,i,s;return t.mount=function(e,t){let n=this,i=this.state,s=this.Components;return si(i.is([1,7]),"Already mounted!"),i.set(1),this._C=s,this._T=t||this._T||(this.is(Xs)?sa:aa),this._E=e||this._E,Fn(On({},na,this._E,{Transition:this._T}),(function(e,t){let i=e(n,s,n._o);s[t]=i,i.setup&&i.setup()})),Fn(s,(function(e){e.mount&&e.mount()})),this.emit(yi),Tn(this.root,"is-initialized"),i.set(3),this.emit(bi),this},t.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},t.go=function(e){return this._C.Controller.go(e),this},t.on=function(e,t){return this.event.on(e,t),this},t.off=function(e){return this.event.off(e),this},t.emit=function(e){let t;return(t=this.event).emit.apply(t,[e].concat(un(arguments,1))),this},t.add=function(e,t){return this._C.Slides.add(e,t),this},t.remove=function(e){return this._C.Slides.remove(e),this},t.is=function(e){return this._o.type===e},t.refresh=function(){return this.emit(Ei),this},t.destroy=function(e){void 0===e&&(e=!0);let t=this.event,n=this.state;return n.is(1)?Ui(this).on(bi,this.destroy.bind(this,e)):(Fn(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Bi),t.destroy(),e&&cn(this.splides),n.set(7)),this},n=e,(i=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&sn(n.prototype,i),s&&sn(n,s),Object.defineProperty(n,"prototype",{writable:!1}),e}();oa.defaults={},oa.STATES=rn;const la=[$i,Hi,Vi,qi,Ri,Xi,xi,Bi,Ai,Fi,Di,Mi,Ci,Wi,yi,_i,wi,Yi,Ni,ji,Ei,Pi,Ii,Oi,zi,Li,Si],ra="splide";function ca(e){return null!==e&&"object"==typeof e}function ua(e,t){const n=e;return function(e,t){if(e){const n=Object.keys(e);for(let i=0;i<n.length;i++){const s=n[i];if("__proto__"!==s&&!1===t(e[s],s))break}}}(t,((e,t)=>{Array.isArray(e)?n[t]=e.slice():ca(e)?n[t]=ua(ca(n[t])?n[t]:{},e):n[t]=e})),n}let da=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const pa=W({name:"SplideTrack",setup(){K((()=>{let e;const t=Q(ra);null==(e=null==t?void 0:t.value)||e.refresh()}))}}),fa={class:"splide__track"},ha={class:"splide__list"};let va=da(pa,[["render",function(e,t,n,i,s,a){return r(),c("div",fa,[u("ul",ha,[G(e.$slots,"default")])])}]]);let ma=da(W({name:"Splide",emits:la.map((e=>`splide:${e}`)),components:{SplideTrack:va},props:{tag:{default:"div",type:String},options:{default:{},type:Object},extensions:Object,transition:Function,hasTrack:{default:!0,type:Boolean}},setup(e,t){const n=s(),i=s();_((()=>{var s;i.value&&(n.value=new oa(i.value,e.options),s=n.value,la.forEach((e=>{s.on(e,((...n)=>{t.emit(`splide:${e}`,s,...n)}))})),n.value.mount(e.extensions,e.transition))})),q((()=>{let e;null==(e=n.value)||e.destroy()})),a((()=>ua({},e.options)),(e=>{n.value&&(n.value.options=e)}),{deep:!0}),U(ra,n);const o=b((()=>{let e;return(null==(e=n.value)?void 0:e.index)||0})),l=b((()=>{let e;return(null==(e=n.value)?void 0:e.length)||0}));return{splide:n,root:i,index:o,length:l,go:function(e){let t;null==(t=n.value)||t.go(e)},sync:function(e){let t;null==(t=n.value)||t.sync(e)}}}}),[["render",function(e,t,n,i,s,a){const o=l("SplideTrack");return r(),$(Y(e.tag),{class:"splide",ref:"root"},{default:O((()=>[e.hasTrack?(r(),$(o,{key:0},{default:O((()=>[G(e.$slots,"default")])),_:3})):G(e.$slots,"default",{key:1})])),_:3},512)}]]);const ga=W({name:"SplideSlide"}),ya={class:"splide__slide"};let ba=da(ga,[["render",function(e,t,n,i,s,a){return r(),c("li",ya,[G(e.$slots,"default")])}]]);const _a={class:"wrapper"},wa={class:"select-wheel"},ka=n({__name:"SelectWheel",props:["choices"],emits:["validate"],setup(e,{emit:t}){const n=e,i={type:"loop",direction:"ttb",focus:"center",height:"20em",speed:500,perPage:5,perMove:1,wheel:!0,wheelMinThreshold:1,wheelSleep:70,releaseWheel:!0,waitForTransition:!1,updateOnMove:!0,arrows:!1,keyboard:!0,pagination:!1,isNavigation:!0},a=s(),o=s();function l(){o.value=n.choices[a.value.splide.index]||n.choices[0]}function f(){if(!o.value)return;const e=o.value;t("validate",e.id)}return _((()=>{a.value.splide||splide.value.splide.mount()})),q((()=>{a.value.splide&&a.value.splide.destroy(!0)})),(e,t)=>(r(),c("div",_a,[p(jt,{color:"blue",icon:"question"}),u("div",wa,[p(d(ma),{ref_key:"selector",ref:a,"data-bypass-keyboard":"",options:i,"aria-label":"Interests","onSplide:mounted":l,"onSplide:move":l},{default:O((()=>[(r(!0),c(B,null,j(n.choices,((e,t)=>(r(),$(d(ba),{key:e+t},{default:O((()=>[Z(C(t+1+" • "+e.value),1)])),_:2},1024)))),128))])),_:1},512)]),p(x,{text:e.$l("cta.validate"),onClick:f},null,8,["text"])]))}},[["__scopeId","data-v-63fc8080"]]),xa={class:"dialog-selector"},$a=n({__name:"DialogSelector",props:["choices"],emits:["select"],setup(e,{emit:t}){const n=e,i=Object.values(n.choices).map((e=>({id:e.id,value:e.value,selected:!1})));function s(e){const i=n.choices[e];t("select",i)}return(e,t)=>(r(),c("section",xa,[p(ka,{choices:d(i),onValidate:s},null,8,["choices"])]))}},[["__scopeId","data-v-49ab79f6"]]),Ca={class:"dialog-component dialog-select"},Sa=n({__name:"DialogSelect",props:["id","choices"],setup(e){const t=e;function n(e){o.$dialogs.makeChoice(e)}return(e,i)=>(r(),c("aside",Ca,[p($a,{choices:t.choices,onSelect:n},null,8,["choices"])]))}},[["__scopeId","data-v-23585691"]]);async function Ma(e,t){const n=o.$dialogs.isFirstNode();await T(n?600:100),e.getBoundingClientRect(),e.classList.add("visible"),await T(800),t()}async function Ta(e,t){e.getBoundingClientRect(),e.classList.add("hidden"),await T(400),t()}const Ea={class:"dialog"},La=n({__name:"DialogController",setup(e){const t=J({id:null,is:null,props:null}),n=o.$dialogs,i=s(),l=s();a((()=>n.current.opts),(e=>{i.value=e&&e.closable,e&&e.fintech&&(l.value=e.fintech)}));const u=b((()=>!(o.$store.isOverlayVisible||o.$store.currentFullscreenVideoDelayed||!i.value||(o.$viewport.width>700?!n.current.id:!n.current.id||n.current.node&&(n.current.node.isPrompt||n.current.node.isGPTPrompt||n.current.node.isGPTInput))))),h=b((()=>!(o.$store.isOverlayVisible||o.$store.currentFullscreenVideoDelayed||!n.current.opts||!n.current.opts.fintech||!o.$fintechs.list[n.current.opts.fintech]||o.$fintechs.list[n.current.opts.fintech].isHidden||n.current.node&&(n.current.node.isPrompt||n.current.node.isGPTPrompt||n.current.node.isGPTInput))));function v(){o.$dialogs.exitDialog(!0)}return ee((()=>{const e=o.$dialogs.current,n=e&&e.node;let i=null,s=null;n?n.isSpeak?(i=Zt,s={id:n.fullID,bubble:n.bubble,before:n.before}):n.isPrompt?Object.keys(n.choices).length>2?(i=Sa,s={id:n.fullID,choices:n.choices}):(i=nn,s={id:n.fullID,choices:n.choices}):n.isGPTPrompt||n.isGPTInput:i=s=null,t.value={id:s&&s.id,is:i,props:s}})),w((()=>{o.$dialogs.exitDialog(!0)})),(e,n)=>(r(),c("section",Ea,[Z(C()+" ",1),p(z,null,{default:O((()=>[u.value?(r(),$(k,{key:0,"aria-label":e.$l("arialabel.close"),class:"dialog-close",icon:"cross","bg-color":"bordered","icon-color":"white",onClick:v},null,8,["aria-label"])):f("",!0)])),_:1}),p(z,null,{default:O((()=>[h.value?(r(),$(Ot,{key:0,class:"dialog-about",fintech:l.value},null,8,["fintech"])):f("",!0)])),_:1}),p(z,{css:!1,appear:"",onEnter:d(Ma),onLeave:d(Ta)},{default:O((()=>[t.value.is?(r(),$(Y(t.value.is),te({key:0},t.value.props,{key:t.value.id}),null,16)):f("",!0)])),_:1},8,["onEnter","onLeave"])]))}},[["__scopeId","data-v-fda03aae"]]),Pa=e=>(P("data-v-3d9fa6fd"),e=e(),I(),e),Ia=["aria-label","tabindex"],Aa={class:"screen"},Da={key:1,class:"icon-coin"},Fa={class:"coastal-points"},Oa=["innerHTML"],za=["innerHTML"],Ba=Pa((()=>u("div",{class:"case"},null,-1))),Ha=Pa((()=>u("div",{class:"shadow"},null,-1))),Va=Pa((()=>u("div",{class:"background"},null,-1))),Na=n({__name:"PhoneHUD",setup(e){const t=o.$store,n=b((()=>!t.isHeaderVisible||t.isFormOpen||t.isDialogVisibleDelayed||t.isMenuOpen||t.isTransitionActive||t.isOverlayVisible||o.$viewport.width<660&&o.$notifs.isBottomActive.value||o.$viewport.width<660&&t.isInteractionButtonVisible||o.$viewport.width<660&&t.isInteractionDone||t.isApiErrorVisible||t.sceneState<t.sceneStates.Playing||t.phone.isVisible||t.isTelescopeActiveDelayed||t.isCinematicActive||t.currentFullscreenVideo)),i=b((()=>!n.value)),a=M.get("phone-map",64,64),l=M.get("phone-fintech",64,64),h=M.get("phone-point",64,128),m=M.get("phone-customization",64,64),g=[a,l,M.get("phone-quest",64,64),m,h],y=["Map","Fintechs","Accessories","Quests","Customize"],w=s(),k=s(),x=s(),C=s(),E=s(),P=o.$savestate.game;let I;function A(){o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$router.push({name:"Phone"})}return E.value=P.coastalPoints,C.value=P.coastalPoints,_((()=>{I=x.value.querySelector(".icon-coin .icon");const e=async()=>{C.value=P.coastalPoints,I.classList.add("collect"),ne({target:x.value,selector:".coastal-points span:first-child",ease:"outSwift",transform:["translateY(0)","translateY(-110%)"],duration:250}),ne({target:x.value,selector:".coastal-points span:last-child",ease:"outSwift",transform:["translateY(110%)","translateY(0)"],duration:250}),await T(300),E.value=P.coastalPoints,ne({target:x.value,selector:".coastal-points span:first-child",transform:["translateY(-110%)","translateY(0)"],duration:.1}),ne({target:x.value,selector:".coastal-points span:last-child",transform:["translateY(0)","translateY(110%)"],duration:.1}),await T(750),I.classList.remove("collect")};let t=null;v((()=>{clearTimeout(t),n.value||C.value===P.coastalPoints||(t=setTimeout(e,800))}))})),(e,t)=>(r(),c("section",{ref_key:"hud",ref:k,key:"phoneHUD",class:S(["phone-hud",{hidden:n.value}])},[e.$store.phone.isVisible?f("",!0):(r(),c("button",{key:0,"aria-label":e.$l("arialabel.phone"),tabindex:i.value?0:-1,onClick:A},null,8,Ia)),u("div",{ref_key:"phone",ref:w,class:S(["phone",[e.$savestate.game.player.color]])},[u("div",Aa,[u("div",{ref_key:"list",ref:x,class:"icons"},[(r(),c(B,null,j(g,((e,t)=>u("div",{key:e+t,class:S(`item-${t}`)},[4!==t?(r(),$(d(L),{key:0,class:"icon",alt:y[t],contain:!0,"height-ratio":"100%",url:e},null,8,["alt","url"])):(r(),c("div",Da,[p(d(L),{class:"icon",alt:y[t],contain:!0,"height-ratio":"100%",url:e},null,8,["alt","url"]),u("span",Fa,[u("span",{innerHTML:E.value},null,8,Oa),u("span",{innerHTML:C.value},null,8,za)])]))],2))),64))],512)]),Ba,Ha],2),Va],2))}},[["__scopeId","data-v-3d9fa6fd"]]),ja={class:"text"},Ya={class:"buttons"},Ra=n({__name:"InputCheck",props:{size:{type:String,default:"default",validator:e=>["default","sm"].includes(e)},text:{type:String,default:"null"}},emits:["ageCheck"],setup(e,{expose:t,emit:n}){const i=e,a=s();async function o(e){await T(75),a.value=e,n("ageCheck",a.value)}return t({reset:function(){a.value=!1}}),(e,t)=>(r(),c("div",{ref:"field",class:S(["form-field",[i.size]])},[u("span",ja,C(i.text),1),u("div",Ya,[p(k,{"aria-label":e.$l("arialabel.validate"),size:i.size,icon:"validate","bg-color":"white","icon-color":"green",onClick:t[0]||(t[0]=ie((e=>o(!0)),["prevent"]))},null,8,["aria-label","size"]),p(k,{"aria-label":e.$l("arialabel.close"),size:i.size,icon:"cross","bg-color":"white","icon-color":"red",onClick:t[1]||(t[1]=ie((e=>o(!1)),["prevent"]))},null,8,["aria-label","size"])])],2))}},[["__scopeId","data-v-8f7e9a5f"]]),Xa=["placeholder","disabled","onKeydown"],qa=n({__name:"InputMail",props:{disabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>["default","sm"].includes(e)}},emits:["submitMail"],setup(e,{expose:t,emit:n}){const i=e,a=s(!1),o=s(!1),l=b((()=>i.disabled||a.value||o.value)),d=s();function f(){n("submitMail",d.value)}return t({reset:function(){d.value=null}}),(e,t)=>(r(),c("div",{ref:"field",class:S(["form-field",[i.size,{"is-focus":l.value}]]),onMouseover:t[3]||(t[3]=e=>o.value=!0),onMouseleave:t[4]||(t[4]=e=>o.value=!1)},[se(u("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),class:"input-mail",type:"email",name:"email",placeholder:e.$l("form.placeholder"),required:"",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$",autocorrect:"off",autocapitalize:"off",autocomplete:"off","data-bypass-keyboard":"",disabled:i.disabled,onFocus:t[1]||(t[1]=e=>a.value=!0),onBlur:t[2]||(t[2]=e=>a.value=!1),onKeydown:oe(f,["enter"])},null,40,Xa),[[ae,d.value]]),p(k,{"aria-label":e.$l("arialabel.validate"),size:i.size,icon:"arrow","bg-color":l.value?"blue":"white","icon-color":l.value?"white":"blue",disabled:i.disabled,onClick:f},null,8,["aria-label","size","bg-color","icon-color","disabled"])],34))}},[["__scopeId","data-v-2f9c498f"]]),Wa=["innerHTML"],Ua=["innerHTML"],Ga=["onSubmit"],Ka=["innerHTML"],Qa={class:"form-step"},Za=n({__name:"RegisterForm",setup(e){const t=s(),n=s(),i=s(),a=s(!1),l=s(),f=s(),h=s(!1),v=s(),m={},g=sessionStorage;let y;function b(e){!1===h.value&&(v.value=e,m.adult=v.value,sessionStorage.setItem("isAdult",v.value),h.value=!0,m.adult?i.value.style.transform="translateX(-25%)":i.value.style.transform="translateX(-100%)",o.$webgl.audio.playSound("sfx_UI_dialog_next"))}function w(e){m.email=e,$()}_((()=>{const e=g.getItem("isAdult");e&&"true"!==e&&(i.value.style.transform="translateX(-1000%)"),y=f.value.$el.querySelector(".input-mail"),le.load("register_and_signin")}));let k=null;function x(e=!0){clearTimeout(k),a.value=!!e,k=setTimeout((()=>a.value=!1),1500)}async function $(e){if(e&&e.preventDefault&&e.preventDefault(),!1===t.value.checkValidity())return void x(!0);let s;x(!1);try{if(n.value)return;n.value=!0,s=await o.$api.register(m.email),y.blur()}catch(a){x(!0),y.focus()}n.value=!1,o.$store.isFormOpen&&(s&&s.success&&!s.error?s.sessionToken?(i.value.style.transform="translate(-25%, +100%)",await T(1500),o.$store.isFormOpen=!1,o.$savestate.signin(s.sessionToken),o.$analytics.event({event_category:"save",event_action:"register",event_value:""})):s.userExists&&(o.$store.isFormOpen=!1,await T(300),o.$notifs.setApiNotif("existingUser"),o.$analytics.event({event_category:"save",event_action:"login",event_value:""})):(x(!0),y.focus()))}return(e,s)=>(r(),c("div",{class:S(["form-container",{"has-error":a.value}])},[u("p",{class:"title",innerHTML:e.$l("form.subscribe.title")},null,8,Wa),u("p",{class:"text",innerHTML:e.$l("form.subscribe.text")},null,8,Ua),u("form",{ref_key:"form",ref:t,class:S(["form",{submitting:n.value}]),method:"post",autocomplete:"off",onSubmit:ie($,["prevent"])},[u("div",{class:S(["form-message",{invalid:!v.value||d(g).getItem("isAdult")&&"true"!==d(g).getItem("isAdult")}]),innerHTML:v.value||d(g).getItem("isAdult")&&"true"==d(g).getItem("isAdult")?e.$l("form.success.login"):e.$l("form.adult.error")},null,10,Ka),u("div",{ref_key:"content",ref:i,class:"form-content"},[p(Ra,{ref_key:"componentCheck",ref:l,size:"sm",text:e.$l("form.older"),disabled:n.value,class:"content-check",onAgeCheck:b},null,8,["text","disabled"]),u("div",Qa,[se(p(qa,{ref_key:"componentMail",ref:f,size:"sm",disabled:n.value,onSubmitMail:w},null,8,["disabled"]),[[re,v.value]])])],512)],42,Ga)],2))}},[["__scopeId","data-v-dd64c2d3"]]),Ja={key:0,class:"form"},eo={class:"form-panel"},to=n({__name:"FormContainer",setup(e){function t(){o.$store.isFormOpen=!1,o.$webgl.audio.playSound("sfx_UI_dialog_answer")}return(e,n)=>(r(),c(B,null,[p(z,{appear:""},{default:O((()=>[d(o).$store.isFormOpen?(r(),c("aside",Ja,[u("div",eo,[p(k,{"aria-label":e.$l("arialabel.close"),class:"close-button",size:"default",icon:"cross","bg-color":"green","icon-color":"white",onClick:t},null,8,["aria-label"]),p(Za)])])):f("",!0)])),_:1}),d(o).$store.isFormOpen?(r(),c("div",{key:0,class:"form-overlay","data-bypass-touch":"",onClick:t})):f("",!0)],64))}},[["__scopeId","data-v-6fc23fcb"]]),no=(e=>(P("data-v-1efd6f75"),e=e(),I(),e))((()=>u("div",{class:"effect"},null,-1))),io=n({__name:"ItemNotification",setup(e){const t=i.list(Object.assign({"/assets/images/items-assets/compass.png":"/assets/compass.b2f451c665453426.png","/assets/images/items-assets/disk.png":"/assets/disk.f55f04a765453426.png","/assets/images/items-assets/flag.png":"/assets/flag.d3788bd965453426.png","/assets/images/items-assets/hammer.png":"/assets/hammer.2c9aee8665453426.png","/assets/images/items-assets/helmet.png":"/assets/helmet.da38033f65453426.png","/assets/images/items-assets/lightbulb.png":"/assets/lightbulb.cd23ded965453426.png","/assets/images/items-assets/resortkey.png":"/assets/resortkey.c1564def65453426.png","/assets/images/items-assets/scissor.png":"/assets/scissor.9a36d8ba65453426.png","/assets/images/items-assets/screwdriver.png":"/assets/screwdriver.dac0be1665453426.png","/assets/images/items-assets/shears.png":"/assets/shears.fc5233c565453426.png","/assets/images/items-assets/stethoscope.png":"/assets/stethoscope.325dc80665453426.png","/assets/images/items-assets/wateringcan.png":"/assets/wateringcan.734ea1e565453426.png","/assets/images/items-assets/zipline.png":"/assets/zipline.1612767b65453426.png"}));let n=s(),l=s(),u=s(),h=s(),v=s();async function m(e){await n.value.loaded(),e.classList.remove("hidden"),e.getBoundingClientRect(),o.$webgl.audio.playSound("sfx_quest_getObject"),e.classList.add("visible"),await T(1500),h.value&&o.$savestate.setVariable(h.value,!0),await T(100),o.$store.itemNotification=null}async function g(e,t){e.classList.add("hidden"),o.$webgl.audio.playSound("sfx_phone_swipe",{delay:400}),await T(550),v.value&&v.value(),t(),u.value=h.value=v.value=null}return a((()=>o.$store.itemNotification),(e=>{e&&(u.value=t[e.image]||t.hammer,h.value=e.variable,v.value=e.onDone)}),{immediate:!0}),(e,t)=>(r(),$(z,{css:!1,appear:"",onEnter:m,onLeave:g},{default:O((()=>[e.$store.itemNotification?(r(),c("aside",{key:0,ref_key:"el",ref:l,class:"item-notification"},[p(d(L),{ref_key:"image",ref:n,url:d(u),contain:!0},null,8,["url"]),no],512)):f("",!0)])),_:1}))}},[["__scopeId","data-v-1efd6f75"]]),so={},ao=[(e=>(P("data-v-d2bf7f03"),e=e(),I(),e))((()=>u("div",{class:"spinner-container"},[u("div",{class:"spinner-shape"})],-1)))];const oo=n(so,[["render",function(e,t){return r(),c("aside",{class:S(["spinner",{visible:e.$store.isSpinnerVisible}])},ao,2)}],["__scopeId","data-v-d2bf7f03"]]),lo={key:0,class:"api-notif"},ro={class:"popin"},co=(e=>(P("data-v-9527461f"),e=e(),I(),e))((()=>u("div",{class:"background-mask"},[u("div",{class:"background"})],-1))),uo=["innerHTML"],po=["innerHTML"],fo={class:"buttons"},ho={outdatedWindow:{reload:!0},expiredSessionToken:{reload:!0},existingUser:{reload:!1},invalidAccessToken:{reload:!1}},vo=n({__name:"ApiNotif",setup(e){const t=s({});let n=!1;const i=!o.$store.isNotFirstApiNotif;function l(){o.$notifications.setApiNotif(null)}function p(){ce()}return T(i?2300:10).then((()=>{n||(o.$store.isNotFirstApiNotif=!0,a((()=>o.$store.isApiErrorVisible),(e=>{if(!e)return;const t=o.$route.name;"Customize"!==t&&"Phone"!==t||o.$router.push({name:"Home"})}),{immediate:!0}),a((()=>o.$notifications.apiNotif.value),(e=>{const n=ho[e];if(!(o.$store.isApiErrorVisible=!!n))return;const i=!!o.$l("errors."+e+".continue").length&&o.$l("errors."+e+".continue");t.value={title:o.$l("errors."+e+".title"),description:o.$l("errors."+e+".desc"),continue:i,reload:n.reload}}),{immediate:!0}))})),w((()=>n=!0)),(e,n)=>(r(),$(z,{duration:{enter:700,leave:600},appear:""},{default:O((()=>[d(o).$store.isApiErrorVisible?(r(),c("aside",lo,[u("div",ro,[co,u("header",{class:"card-header",innerHTML:t.value.title},null,8,uo),u("p",{innerHTML:t.value.description},null,8,po),u("div",fo,[t.value.continue?(r(),$(x,{key:0,color:"gray",text:t.value.continue,onClick:l},null,8,["text"])):f("",!0),t.value.reload?(r(),$(x,{key:1,color:"green",text:e.$l("cta.reload"),onClick:p},null,8,["text"])):f("",!0)])])])):f("",!0)])),_:1}))}},[["__scopeId","data-v-9527461f"]]),mo=(e,t)=>e+(t-e)*Math.random(),go=["#F54721","#480CA7","#FC9E1C","#F2C94C","#D69FF2","#9AF5FC","#4BC8EF","#480CA7","#9DED1A","#BDFABC","#FF7A00","#F8B3B7","#02C6A7","#9E9BBE"];class yo{constructor(e){this.ctx=e,this.isActive=!1,this.parentWidth=this.parentHeight=1,this.dpi=this.x=this.y=this.spawnX=this.angle=1,this.color=go[Math.floor(Math.random()*go.length)],this.baseSize=25*mo(.25,1),this.size=this.baseSize;const t=Math.random()>.5?1:-1;this.velocity=mo(1.1,1.1*1.6),this.rotateVelocity=1.1*mo(.06,.1)*t,this.setup()}setup(){}resize(e,t,n){this.parentWidth=e,this.parentHeight=t;const i=Math.min(e,t);this.sizeMult=ue(i,400,2e3,.6,1.3),this.size=this.baseSize*n*this.sizeMult,this.dpi=n,this.reset(!0)}reset(e){this.angle=mo(0,2*Math.PI),this.x=0,this.spawnX=mo(-.1,1.1);const t=e?3*this.parentHeight:this.parentHeight;this.y=-mo(2*this.size,t)}draw(e){if(!e&&!this.isActive)return;const t=1*this.size+.3*this.parentHeight;if(!e&&this.y<-t)return this.isActive=!1;if(this.y>this.parentHeight+2*this.size){if(!e)return this.isActive=!1;this.reset(!this.isActive)}else this.isActive=!0;const n=this.ctx,i=de.time.dt,s=de.time.elapsed;this.x=this.spawnX*this.parentWidth,this.x+=Math.cos(s*this.velocity*6e-4)*this.parentWidth*.22,this.y+=i*this.velocity,this.angle+=this.rotateVelocity,n.fillStyle=this.color,n.strokeStyle=this.color,n.lineJoin="round",n.lineWidth=this.dpi*this.sizeMult*7,n.save(),n.translate(this.x,this.y),n.rotate(this.angle),n.beginPath(),this.shape(this.ctx),n.closePath(),n.stroke(),n.fill(),this.ctx.restore()}}class bo extends yo{setup(){this.width=.25,this.height=1.3}shape(e){const t=this.width*this.size,n=this.height*this.size;e.rect(.5*-t,.5*-n,t,n)}}class _o extends bo{setup(){this.width=1,this.height=1}}class wo extends yo{setup(){this.minRadius=.45,this.points=4,this.step=2*Math.PI/this.points}shape(e){const t=.7*this.size,n=this.minRadius*t;e.moveTo(0,0);for(let i=0;i<=this.points;i++){const s=(i+1)*this.step,a=s-.5*this.step;e.lineTo(~~(Math.cos(a)*n),~~(Math.sin(a)*n)),e.lineTo(~~(Math.cos(s)*t),~~(Math.sin(s)*t))}}}const ko={class:"confettis"},xo=n({__name:"Confettis",setup(e){const t=o.$store,n=s();let i;return _((()=>{i=function({canvas:e}){let t,n=0,i=0,s=0,a=!1;const o=[bo,_o,wo],l=[],r=[];return t=e.getContext("2d"),{start:function(){a||(a=!0,m.add(c))},stop:function(){a=!1},resize:function(t,a,o){s=o,n=e.width=t*s,i=e.height=a*s,e.style.width=t+"px",e.style.height=a+"px";for(let e=0,l=r.length;e<l;e++)r[e].resize(n,i,s)},dispose:function(){a=!1,m.remove(c)},setCount:function(e){if(r.length===e)return;const a=Math.max(0,e-r.length);for(let r=0;r<a;r++){const e=new(0,o[Math.floor(Math.random()*o.length)])(t);e.resize(n,i,s),l.push(e)}r.length=0;for(let t=0;t<e;t++)r.push(l[t])}};function c(){t.clearRect(0,0,n,i);let e=0;for(let t=0,n=r.length;t<n;t++){const n=r[t];n.draw(a),n.isActive&&e++}0!==e||a||m.remove(c)}}({canvas:n.value});const e=o.$viewport;v((()=>{i.resize(e.width,e.height,e.pixelRatio)})),v((()=>{t.isConfettisActive?i.start():i.stop()})),v((()=>{i.setCount(t.confettisCount)}))})),q((()=>{i.dispose()})),(e,t)=>(r(),c("div",ko,[u("canvas",{ref_key:"canvas",ref:n},null,512)]))}},[["__scopeId","data-v-ff7958f3"]]),$o=n({__name:"PhoneCase",setup(e){const t=b((()=>o.$savestate.game.player.color));return(e,n)=>(r(),c("figure",{class:S(["phone-case",t.value])},null,2))}},[["__scopeId","data-v-b29ae3bf"]]);function Co(e){function t(){o.$store.phone.isFullScreen||e()}e&&(_((()=>{o.$store.phone.triggerThumbAnim.watch(t)})),q((()=>{o.$store.phone.triggerThumbAnim.unwatch(t)})))}const So=e=>(P("data-v-681e419f"),e=e(),I(),e),Mo={class:"finger-1"},To=[pe('<path d="M90.3752 11.0542C52.3346 -18.5246 14.6537 18.6497 0.568314 40.9343C3.2131 82.056 13.2487 161.892 32.2328 152.262C55.9628 140.225 137.926 48.0277 90.3752 11.0542Z" fill="currentColor" data-v-681e419f></path><path d="M90.3752 11.0542C52.3346 -18.5246 14.6537 18.6497 0.568314 40.9343C3.2131 82.056 13.2487 161.892 32.2328 152.262C55.9628 140.225 137.926 48.0277 90.3752 11.0542Z" fill="url(#paint0)" fill-opacity="0.5" data-v-681e419f></path><defs data-v-681e419f><radialGradient id="paint0" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(89.5624 55.2622) rotate(136.135) scale(77.9999 69.3894)" data-v-681e419f><stop stop-color="white" data-v-681e419f></stop><stop offset="1" stop-color="white" stop-opacity="0" data-v-681e419f></stop></radialGradient></defs>',3)],Eo=pe('<div class="finger-2" data-v-681e419f><svg viewBox="0 0 99 331" xmlns="http://www.w3.org/2000/svg" data-v-681e419f><path d="M75.8037 86.3728C60.8037 93.2062 28.9039 98.2728 21.3039 63.8728C15.0828 35.7145 29.2085 18.8127 41.3037 11.1382L41.3037 1.37282C57.137 -1.29384 90.3037 1.17282 96.3037 32.3728C102.304 63.5728 85.137 81.3728 75.8037 86.3728Z" fill="currentColor" data-v-681e419f></path><path d="M75.8037 86.3728C60.8037 93.2062 28.9039 98.2728 21.3039 63.8728C15.0828 35.7145 29.2085 18.8127 41.3037 11.1382L41.3037 1.37282C57.137 -1.29384 90.3037 1.17282 96.3037 32.3728C102.304 63.5728 85.137 81.3728 75.8037 86.3728Z" fill="url(#paint1)" fill-opacity="0.5" data-v-681e419f></path><path d="M9.88311 182.015C-4.9169 136.415 24.3831 119.015 40.8831 116.015C59.5331 111.589 85.1829 119.515 94.3829 149.515C103.583 179.515 94.6643 199.101 81.0531 207.092C62.8865 217.759 24.6831 227.615 9.88311 182.015Z" fill="currentColor" data-v-681e419f></path><path d="M9.88311 182.015C-4.9169 136.415 24.3831 119.015 40.8831 116.015C59.5331 111.589 85.1829 119.515 94.3829 149.515C103.583 179.515 94.6643 199.101 81.0531 207.092C62.8865 217.759 24.6831 227.615 9.88311 182.015Z" fill="url(#paint2)" fill-opacity="0.5" data-v-681e419f></path><path d="M0.892437 291.872C-0.707564 254.272 23.2258 242.206 35.3924 240.872C52.7257 238.872 87.2922 243.972 86.8922 280.372C86.4922 316.772 68.3922 328.539 59.3922 329.872C40.559 332.872 2.49244 329.472 0.892437 291.872Z" fill="currentColor" data-v-681e419f></path><path d="M0.892437 291.872C-0.707564 254.272 23.2258 242.206 35.3924 240.872C52.7257 238.872 87.2922 243.972 86.8922 280.372C86.4922 316.772 68.3922 328.539 59.3922 329.872C40.559 332.872 2.49244 329.472 0.892437 291.872Z" fill="url(#paint3)" fill-opacity="0.5" data-v-681e419f></path><defs data-v-681e419f><radialGradient id="paint1" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(19.908 131.421) rotate(53.3253) scale(84.8646 55.6717)" data-v-681e419f><stop stop-color="white" data-v-681e419f></stop><stop offset="1" stop-color="white" stop-opacity="0" data-v-681e419f></stop></radialGradient><radialGradient id="paint2" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(19.908 131.421) rotate(53.3253) scale(84.8646 55.6717)" data-v-681e419f><stop stop-color="white" data-v-681e419f></stop><stop offset="1" stop-color="white" stop-opacity="0" data-v-681e419f></stop></radialGradient><radialGradient id="paint3" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(19.908 131.421) rotate(53.3253) scale(84.8646 55.6717)" data-v-681e419f><stop stop-color="white" data-v-681e419f></stop><stop offset="1" stop-color="white" stop-opacity="0" data-v-681e419f></stop></radialGradient></defs></svg></div>',1),Lo={class:"thumb-1"},Po=[pe('<path d="M1.03911 141.687C-3.19407 82.5827 62.0391 -40.813 131.539 14.687C172.852 47.678 155.991 94.8582 131.539 129.029L131.533 129.037C121.133 143.57 115.072 152.04 96.5379 169.018C78 186 5.788 207.992 1.03911 141.687Z" fill="currentColor" data-v-681e419f></path><path d="M1.03911 141.687C-3.19407 82.5827 62.0391 -40.813 131.539 14.687C172.852 47.678 155.991 94.8582 131.539 129.029L131.533 129.037C121.133 143.57 115.072 152.04 96.5379 169.018C78 186 5.788 207.992 1.03911 141.687Z" fill="url(#paint4)" fill-opacity="0.5" data-v-681e419f></path><defs data-v-681e419f><radialGradient id="paint4" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(135.984 54.7832) rotate(136.307) scale(97.0631 89.8813)" data-v-681e419f><stop stop-color="white" data-v-681e419f></stop><stop offset="1" stop-color="white" stop-opacity="0" data-v-681e419f></stop></radialGradient></defs>',3)],Io={class:"thumb-2"},Ao=[So((()=>u("path",{d:"M190.158 306.184C20.658 317.184 0.159973 111.94 0.158203 52.6842C0.155014 -54.0915 133.288 36.3514 130.658 40.0259L136.158 69.6842C210.658 144.851 325.758 297.384 190.158 306.184Z",fill:"currentColor"},null,-1)))],Do=n({__name:"PhoneHand",setup(e,{expose:t}){t({wristAnim:function(){if(n.isFullScreen)return;d(),l=ne({target:a.value,transform:["translateX(-2%) rotate(9deg)","rotate(25deg)"],ease:"outQuint",delay:100,duration:950})}});const n=o.$store.phone,i=b((()=>o.$savestate.game.player.color)),a=s();let l;function d(){l&&(l=l.destroy())}q(d);const p=s(),f=s(),h=s();let v=null,m=null,g=null;function y(){v&&(v=v.destroy()),m&&(m=m.destroy()),g&&(g=g.destroy())}return q((()=>y())),Co((()=>{n.isFullScreen||(y(),v=E({target:p.value,name:"swipeItTop",ease:"ease-in-out",duration:450}),m=E({target:f.value,name:"swipeItBottom",ease:"ease-in-out",duration:450}),g=E({target:h.value,name:"indexFinger",ease:"ease-in-out",delay:100,duration:550}))})),(e,t)=>(r(),c("figure",{class:S(["phone-hand",i.value])},[u("div",Mo,[(r(),c("svg",{ref_key:"finger1",ref:h,viewBox:"0 0 105 154",xmlns:"http://www.w3.org/2000/svg"},To,512))]),Eo,u("div",Lo,[(r(),c("svg",{ref_key:"thumb1",ref:p,viewBox:"0 0 157 187",xmlns:"http://www.w3.org/2000/svg"},Po,512))]),u("div",Io,[(r(),c("svg",{ref_key:"thumb2",ref:f,viewBox:"0 0 253 307",xmlns:"http://www.w3.org/2000/svg"},Ao,512))]),u("div",{ref_key:"wrist",ref:a,class:"wrist"},null,512)],2))}},[["__scopeId","data-v-681e419f"]]),Fo={class:"screen"},Oo=n({__name:"PhoneScreen",setup(e,{expose:t}){t({shineAnim:function(){if(o.$store.phone.isFullScreen)return;a(),n.value.style.display="",i=ne({target:n.value,transform:["translateX(+160%) rotate(30deg)","translateX(-300%) rotate(30deg)"],useWillChange:!0,easing:"inOutSine",complete:()=>{n.value&&(n.value.style.display="none")},duration:800})}});const n=s();let i;function a(){i&&(i=i.destroy())}return q((()=>a())),(e,t)=>(r(),c("div",Fo,[u("figure",{ref_key:"shine",ref:n,class:"screen-shine"},null,512),G(e.$slots,"default",{},void 0,!0)]))}},[["__scopeId","data-v-a170c6fb"]]),zo={class:"nav"},Bo={class:"nav-items"},Ho=["data-tab","aria-label","tabindex"],Vo=n({__name:"PhoneNavigation",setup(e){const t=M.get("phone-map",64,128),n=M.get("phone-fintech",64,128),i=M.get("phone-point",64,128),s=M.get("phone-customization",64,128),a=M.get("phone-quest",64,128),l=["Map","Fintechs","Accessories","Customization","Quests"],f=[t,n,i,s,a],h=b((()=>o.$store.newItem)),m=b((()=>o.$store.isPhoneOpen)),g=o.$items.all,y=[];v((()=>{if(Object.keys(g).forEach((e=>{const t=g[e];t&&!y.includes(t)&&0!==t.price&&t.isClaimed&&y.push(t)})),y.length>0){const e=y[y.length-1];o.$store.newItem=e.id}}));const _=o.$router;function w(){o.$webgl.audio.playSound("sfx_phone_click_soft"),_.push({name:"Home"})}function x(e){e.target.getAttribute("data-tab")!==o.$store.phone.tab.id&&(o.$store.phone.tab.id=e.target.getAttribute("data-tab"),o.$store.phone.tab.props=null,o.$webgl.audio.playSound("sfx_phone_click_medium"),o.$webgl.audio.playSound("sfx_phone_swipe",{delay:250}))}return(e,t)=>(r(),c("div",{class:S(["phone-navigation",{"is-hidden":"FintechDetails"==e.$store.phone.tab.id}])},[u("nav",zo,[u("ul",Bo,[(r(),c(B,null,j(l,((t,n)=>u("li",{key:t+n,class:S(["nav-item",[t,`item-${n}`,{"has-notification":3==n&&h.value}]])},[u("button",{class:S(["nav-button",{"is-selected":t==e.$store.phone.tab.id}]),"data-tab":t,"aria-label":t,tabindex:m.value?0:-1,onClick:x},[p(d(L),{class:"button-image",alt:t,contain:!0,"height-ratio":"100%","cache-id":"phone-tab-icon-"+t[n],url:f[n]},null,8,["alt","cache-id","url"])],10,Ho)],2))),64))])]),p(k,{"aria-label":e.$l("arialabel.close"),icon:"cross","bg-color":"green","icon-color":"white",onClick:w},null,8,["aria-label"])],2))}},[["__scopeId","data-v-ad29435e"]]);window.addEventListener("touchmove",(function(){}));let No=function e(t){let n,i,s,a,o,l,r,c,u,d,p,f=t.source,h=void 0===f?document:f,v=t.update,m=t.multiplier,g=void 0===m?1:m,y=t.friction,b=void 0===y?.92:y,_=t.initialValues,w=t.boundX,k=t.boundY,x=t.bounce,$=void 0===x||x;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);let C=0,S=0,M=.3*g,T=!1,E=!1,L=!1,P=!1,I=[];function A(){document.removeEventListener("touchmove",z,{passive:!1}),document.removeEventListener("touchend",B),document.removeEventListener("touchcancel",H),document.removeEventListener("mousemove",z,{passive:!1}),document.removeEventListener("mouseup",B)}function D(){v.call(h,C,S)}function F(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){let t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function O(e){let t=F(e);E||L||(E=!0,P=!1,u=t.id,o=r=t.x,l=c=t.y,I=[],V(o,l),A(),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",B),document.addEventListener("touchcancel",H),document.addEventListener("mousemove",z,{passive:!1}),document.addEventListener("mouseup",B))}function z(e){e.preventDefault();let t=F(e);E&&t.id===u&&(r=t.x,c=t.y,V(o,l),function(){T||requestAnimationFrame(N);T=!0}())}function B(e){let t=F(e);E&&t.id===u&&H()}function H(){E=!1,V(o,l),function(){let e=I[0],t=I[I.length-1],n=t.x-e.x,i=t.y-e.y,s=(t.time-e.time)/15/g;d=n/s||0,p=i/s||0;let a=Y();(Math.abs(d)>1||Math.abs(p)>1||!a.inBounds)&&(P=!0,requestAnimationFrame(R))}(),A()}function V(e,t){let n=Date.now();for(;I.length>0&&!(n-I[0].time<=100);)I.shift();I.push({x:e,y:t,time:n})}function N(){let e=r-o,t=c-l;if(C+=e*g,S+=t*g,$){let n=Y();0!==n.x&&(C-=e*j(n.x)*g),0!==n.y&&(S-=t*j(n.y)*g)}else Y(!0);D(),o=r,l=c,T=!1}function j(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function Y(e){let t=0,o=0;return void 0!==n&&C<n?t=n-C:void 0!==i&&C>i&&(t=i-C),void 0!==s&&S<s?o=s-S:void 0!==a&&S>a&&(o=a-S),e&&(0!==t&&(C=t>0?n:i),0!==o&&(S=o>0?s:a)),{x:t,y:o,inBounds:0===t&&0===o}}function R(){if(!P)return;d*=b,p*=b,C+=d,S+=p;let e=Y();if(Math.abs(d)>M||Math.abs(p)>M||!e.inBounds){if($){let t=2.5;if(0!==e.x)if(e.x*d<=0)d+=.04*e.x;else{const n=e.x>0?t:-t;d=.11*(e.x+n)}if(0!==e.y)if(e.y*p<=0)p+=.04*e.y;else{const n=e.y>0?t:-t;p=.11*(e.y+n)}}else 0!==e.x&&(C=e.x>0?n:i,d=0),0!==e.y&&(S=e.y>0?s:a,p=0);D(),requestAnimationFrame(R)}else P=!1}!function(){if(h="string"==typeof h?document.querySelector(h):h,!h)throw new Error("IMPETUS: source not found.");if(!v)throw new Error("IMPETUS: update function not defined.");_&&(_[0]&&(C=_[0]),_[1]&&(S=_[1]),D()),w&&(n=w[0],i=w[1]),k&&(s=k[0],a=k[1]),h.addEventListener("touchstart",O),h.addEventListener("mousedown",O)}(),this.destroy=function(){return h.removeEventListener("touchstart",O),h.removeEventListener("mousedown",O),A(),null},this.pause=function(){A(),E=!1,L=!0},this.resume=function(){L=!1},this.setValues=function(e,t){"number"==typeof e&&(C=e),"number"==typeof t&&(S=t),D()},this.setMultiplier=function(e){g=e,M=.3*g},this.setBoundX=function(e){n=e[0],i=e[1]},this.setBoundY=function(e){s=e[0],a=e[1]}};const jo=(e=>(P("data-v-e9c6883c"),e=e(),I(),e))((()=>u("svg",{viewBox:"0 0 35 35",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",class:"svg-gradient"},[u("defs",null,[u("linearGradient",{id:"gradient",x2:"0",y2:"1"},[u("stop",{offset:"0%","stop-color":"var(--color-start)"}),u("stop",{offset:"100%","stop-color":"var(--color-stop)"})])])],-1))),Yo=n({__name:"PhoneFeaturedBadge",props:{icon:{type:String,default:"star"},size:{type:String,default:"default",validator:e=>["default","sm"].includes(e)}},setup(e){const t=e;return(e,n)=>{const i=l("SvgIcon");return r(),c(B,null,[u("div",{class:S(["featured-badge",t.size])},[p(i,{id:t.icon},null,8,["id"])],2),jo],64)}}},[["__scopeId","data-v-e9c6883c"]]),Ro=["data-attribute","aria-label"],Xo={key:0,class:"badge-wrapper"},qo={key:1,class:"badge-check"},Wo=[(e=>(P("data-v-0bed9cfd"),e=e(),I(),e))((()=>u("path",{d:"M58.3442 9.15805C51.4594 2.84475 42.3168 -0.439843 32.9741 0.0474103C23.6314 0.530548 14.8753 4.74481 8.69136 11.7361C2.50358 18.7275 -0.594321 27.9034 0.0945075 37.1963C0.783336 46.4893 5.20203 55.117 12.3517 61.1256C20.1863 68.1941 26.9777 76.3304 32.5251 85.2908L32.7686 85.6747C32.7693 85.6758 32.7704 85.6765 32.7717 85.6765V85.6765C32.773 85.6765 32.7742 85.6771 32.7748 85.6782C33.309 86.5054 34.2296 87 35.2154 87C36.2018 87 37.119 86.5006 37.6529 85.6724L39.2386 83.2161C44.2768 75.0839 50.5013 67.7389 57.7079 61.4342C65.3916 54.9503 69.8753 45.4664 69.9974 35.4376C70.1197 25.4094 65.8682 15.8238 58.3434 9.15731L58.3442 9.15805Z",fill:"currentColor"},null,-1)))],Uo=n({__name:"MapPin",props:{x:{type:Number,default:null},y:{type:Number,default:null},index:{type:String,default:null},object:{type:String,default:null},clickable:{type:Boolean,default:!0},isInterest:{type:Boolean,default:!1},isMainQuestCompleted:{type:Boolean,default:!1}},emits:["pinclick"],setup(e,{emit:t}){const n=e,i=M.get(n.object,64,64);function s(e){n.clickable&&(t("pinclick",n.index),o.$webgl.audio.playSound("sfx_phone_click_soft"))}return(e,t)=>{const a=l("SvgIcon");return r(),c("div",{class:S(["pin",{"pin--interest":n.isInterest}]),style:N({"--xPos":n.x+"px","--yPos":n.y+"px"}),"data-attribute":n.index,"aria-label":n.index,onClick:s},[n.isInterest?(r(),c("div",Xo,[p(Yo,{icon:"star",size:"sm"})])):f("",!0),n.isMainQuestCompleted?(r(),c("div",qo,[p(a,{id:"check",class:"check"})])):f("",!0),n.object?(r(),$(d(L),{key:2,url:d(i),contain:!0,"height-ratio":"100%",alt:"Icon",class:"clue-icon"},null,8,["url"])):f("",!0),u("div",{class:S(["circle",{"is-done":n.isMainQuestCompleted}])},[p(a,{id:`logo-fintech-${n.index}`,class:S(`logo-fintech-${n.index}`)},null,8,["id","class"])],2),(r(),c("svg",{viewBox:"0 0 70 87",xmlns:"http://www.w3.org/2000/svg",class:S(["pin-svg",{"is-done":n.isMainQuestCompleted}])},Wo,2))],14,Ro)}}},[["__scopeId","data-v-0bed9cfd"]]),Go={class:"confirmation-container"},Ko={class:"confirmation"},Qo={class:"confirmation-text"},Zo={class:"confirmation-buttons"},Jo=(e=>(P("data-v-89908062"),e=e(),I(),e))((()=>u("div",{class:"confirmation-overlay"},null,-1))),el=n({__name:"MapConfirmation",props:{fintech:{type:String,default:null}},emits:["close"],setup(e,{emit:t}){const n=e,i=M.get("misc-taxi"),s=M.get("misc-boat"),a=b((()=>{const e=o.$fintechs.list[n.fintech];if(!e)return;return e.tpCoords.island===o.$webgl.scenes.currentSceneID.value?i:s})),l=b((()=>{const e=o.$fintechs.list[n.fintech];if(e)return e.name}));function f(){const e=o.$fintechs.list[n.fintech];if(!e)return;const t=e.tpCoords;o.$router.push({name:"Home"}),t&&(o.$webgl.scenes.teleportTo(t.island,{point:t.point,delay:400}),o.$webgl.audio.playSound("sfx_phone_click_medium"))}return(e,n)=>(r(),c("section",Go,[u("article",Ko,[p(d(L),{url:a.value,contain:!0,"height-ratio":"100%",class:"confirmation-taxi"},null,8,["url"]),u("p",Qo,C(e.$l("cta.visit"))+" "+C(l.value)+"? ",1),u("div",Zo,[p(x,{text:e.$l("cta.no.thanks"),class:"confirmation-cta discard",color:"gray",onClick:n[0]||(n[0]=e=>t("close"))},null,8,["text"]),p(x,{text:a.value===d(s)?e.$l("cta.boat"):e.$l("cta.drive"),class:"confirmation-cta validate",color:"green",onClick:f},null,8,["text"])])]),Jo]))}},[["__scopeId","data-v-89908062"]]),tl={class:"btn"},nl={class:"bar-container"};const il=n({},[["render",function(e,t){return r(),c("div",tl,[u("div",nl,[(r(),c(B,null,j(2,(e=>u("div",{key:e,class:S(["bar",[`bar-${e}`]])},null,2))),64))])])}],["__scopeId","data-v-9df14fe8"]]),sl={class:"controls"},al=(e=>(P("data-v-d7359a46"),e=e(),I(),e))((()=>u("div",{class:"userDirection"},null,-1))),ol={class:"face__container"},ll=n({__name:"Map",setup(e){let t=1024,n=.5;const i=fe.coords,f=Object.entries(fe.pins).filter((([e])=>!!o.$fintechs.list[e])).map((([e,t])=>{var i,s;const a=null==(s=null==(i=fe.coords)?void 0:i[t.island])?void 0:s.bounds;if(!a)return[e,t];const o=(t.position.x/1e3*a.width+a.x)*n,l=(t.position.y/1e3*a.height+a.y)*n;return[e,{...t,position:{x:o,y:l}}]})).reduce(((e,[t,n])=>(e[t]=n,e)),{}),h=Object.entries(fe.coords).map((([e,{bounds:t,label:{id:i,x:s,y:a}}])=>({key:e,id:i,x:((.5*s+.5)*t.width+t.x)*n,y:((.5*a+.5)*t.height+t.y)*n}))),v=o.$device.type.phone?fe.mobileImg:fe.desktopImg,g=o.$fintechs.list,y=s(),b=s(!1),w=s(g[Object.keys(g)[0]].id),k=s(),x=s(!0),C={passive:!0},M={bounds:[1,1],rel:[.5,.5],down:[0,0],move:[0,0]};let T,E,P=!1,I=!1;const A={x:{eased:0,value:0},y:{eased:0,value:0}};function D(e){switch(e){case"left":A.x.value=-0;break;case"right":A.x.value=0;break;case"top":case"bottom":A.y.value=0}}function O(e){switch(e){case"left":A.x.value=-.03;break;case"right":A.x.value=.03;break;case"top":A.y.value=-.03;break;case"bottom":A.y.value=.03}}function z(){A.x.eased=F(A.x.eased,A.x.value,.1),A.y.eased=F(A.y.eased,A.y.value,.1),M.rel[0]>1&&A.x.value>0&&(A.x.eased=0),M.rel[0]<=0&&A.x.value<0&&(A.x.eased=0),M.rel[1]>1&&A.y.value>0&&(A.y.eased=0),M.rel[1]<=0&&A.y.value<0&&(A.y.eased=0),Z(M.rel[0]+A.x.eased,M.rel[1]+A.y.eased)}_((()=>{T=new No({source:k.value,initialValues:[0,0],boundX:[-1,1],boundY:[-1,1],update:K}),window.addEventListener("mousedown",U,C),window.addEventListener("mouseup",G,C),P=!0,m.add(z),E=a((()=>o.$store.phone.scale),Q,{immediate:!0})})),q((()=>{I=!0,E&&E(),T&&T.destroy(),m.remove(z),window.removeEventListener("mousedown",U,C),window.removeEventListener("mouseup",G,C)}));let H=s(1024),V=s(1024),Y=s(1024),R=s(1024),X=s(1024),W=!0;function U(){x.value=!0,M.down[0]=M.move[0],M.down[1]=M.move[1]}function G(){me(M.move[0],M.move[1],M.down[0],M.down[1])>30&&(x.value=!1),A.x.value=0,A.y.value=0}function K(e,t){!I&&P&&(M.rel[0]=-e/M.bounds[0],M.rel[1]=-t/M.bounds[1],M.move[0]=e,M.move[1]=t,k.value.style.transform=`translate(${e}px, ${t}px)`)}function Q(e){const s=t*e,a=s,l=s/fe.ratio;M.bounds[0]=a-o.$store.phone.width,M.bounds[1]=l-o.$store.phone.height,T.setBoundX([-M.bounds[0],0]),T.setBoundY([-M.bounds[1],0]),Z(M.rel[0],M.rel[1]),T.resume(),function(){const e=o.$webgl.scenes.currentSceneID.value,s=o.$webgl.store.playerPosition,a=o.$webgl.store.playerOrientation,l=i[e];if(!(l&&l.min&&l.max&&l.bounds))return;const r=s.x;let c=s.z;c+=-1*Math.max(0,s.y-2.4984851165859103);const u=l.bounds,d=(l.min.map.x/1e3*u.width+u.x)*n,p=(l.min.map.y/1e3*u.height+u.y)*n,f=(l.max.map.x/1e3*u.width+u.x)*n,h=(l.max.map.y/1e3*u.height+u.y)*n;if(H.value=ve(r,l.min.gl.x,l.max.gl.x,d,f),V.value=ve(c,l.min.gl.y,l.max.gl.y,p,h),Y.value=20*Math.cos(a),R.value=20*Math.sin(a),X.value=-180*(a/Math.PI-Math.PI/2),W){W=!1;const e=t,n=t/fe.ratio;Z(ve(H.value,0,e,-.2,1.2),ve(V.value,0,n,-.2,1.2)),T.resume()}}()}function Z(e,t){e=M.bounds[0]*e,t=M.bounds[1]*t,T.setValues(-e,-t),K(-e,-t)}function J(e){b.value?b.value=!1:(w.value=e,b.value=!0),o.$webgl.audio.playSound("sfx_phone_click_soft")}return(e,n)=>{const i=l("SvgIcon");return r(),c("article",{class:"phone-tab map",style:N({"--map-ratio":d(fe).ratio.toFixed(4),"--map-size":d(t)+"px"})},[u("div",sl,[p(il,{class:"left",onMouseup:n[0]||(n[0]=e=>D("left")),onMousedown:n[1]||(n[1]=e=>O("left")),onTouchstart:n[2]||(n[2]=e=>O("left")),onTouchend:n[3]||(n[3]=e=>D("left"))}),p(il,{class:"top",onMouseup:n[4]||(n[4]=e=>D("top")),onMousedown:n[5]||(n[5]=e=>O("top")),onTouchstart:n[6]||(n[6]=e=>O("top")),onTouchend:n[7]||(n[7]=e=>D("top"))}),p(il,{class:"right",onMouseup:n[8]||(n[8]=e=>D("right")),onMousedown:n[9]||(n[9]=e=>O("right")),onTouchstart:n[10]||(n[10]=e=>O("right")),onTouchend:n[11]||(n[11]=e=>D("right"))}),p(il,{class:"bottom",onMouseup:n[12]||(n[12]=e=>D("bottom")),onMousedown:n[13]||(n[13]=e=>O("bottom")),onTouchstart:n[14]||(n[14]=e=>O("bottom")),onTouchend:n[15]||(n[15]=e=>D("bottom"))})]),u("div",{ref_key:"container",ref:y,class:"map-container"},[u("div",{ref_key:"map",ref:k,class:"map-contents"},[(r(!0),c(B,null,j(d(h),(e=>(r(),$(i,{id:e.id,key:e.key,style:N({"--labelXPos":e.x+"px","--labelYPos":e.y+"px"})},null,8,["id","style"])))),128)),p(d(L),{"cache-id":"phone-map-illu",class:"map-illustration",url:d(v)},null,8,["url"]),(r(!0),c(B,null,j(d(f),((e,t)=>(r(),$(Uo,{key:t,index:t,x:e.position.x,y:e.position.y-18,object:e.object,clickable:x.value,"is-interest":d(o).$fintechs.list[t].isInterest,"is-main-quest-completed":d(o).$fintechs.list[t].isQuestCompleted,onPinclick:J},null,8,["index","x","y","object","clickable","is-interest","is-main-quest-completed"])))),128)),u("div",{class:"userPosition",style:N({"--userXPos":d(H)+"px","--userYPos":d(V)+"px","--dirPosX":d(Y)+"px","--dirPosY":d(R)+"px","--userOrientation":d(X)+"deg"})},[al,u("div",ol,[p(he,{type:e.$savestate.game.player.face},null,8,["type"])])],4)],512)],512),p(el,{fintech:w.value,class:S({"confirmation-visible":b.value}),onClose:J},null,8,["fintech","class"])],4)}}},[["__scopeId","data-v-d7359a46"]]),rl=["innerHTML"],cl=["innerHTML"],ul=n({__name:"PhoneHeader",props:{title:{type:String,default:null},description:{type:String,default:null}},setup(e){const t=e;return(e,n)=>(r(),c("header",null,[u("h1",{innerHTML:t.title},null,8,rl),u("p",{innerHTML:t.description},null,8,cl)]))}},[["__scopeId","data-v-d5ee8a41"]]),dl={class:"tag-text"},pl=n({__name:"PhoneTag",props:{text:{type:String,default:null}},setup(e){const t=e;return(e,n)=>(r(),c("div",dl,C(t.text),1))}},[["__scopeId","data-v-86774021"]]),fl={},hl={class:"phone-background"},vl=[(e=>(P("data-v-6d8ac982"),e=e(),I(),e))((()=>u("div",{class:"square"},null,-1)))];const ml=n(fl,[["render",function(e,t){return r(),c("div",hl,vl)}],["__scopeId","data-v-6d8ac982"]]),gl={class:"phone-top-gradient"};const yl=n({},[["render",function(e,t){return r(),c("div",gl)}],["__scopeId","data-v-eb8db0c6"]]);const bl=37,_l=38,wl=39,kl=40,xl=32,$l="virtualscroll";var Cl;class Sl{constructor(e){t(this,"_onWheel",(e=>{var t=this._options,n=this._event;n.deltaX=e.wheelDeltaX||-1*e.deltaX,n.deltaY=e.wheelDeltaY||-1*e.deltaY,Cl.isFirefox&&1===e.deltaMode&&(n.deltaX*=t.firefoxMultiplier,n.deltaY*=t.firefoxMultiplier),Cl.isWindows&&(n.deltaX*=t.windowsMultiplier,n.deltaY*=t.windowsMultiplier),n.deltaX*=t.mouseMultiplier,n.deltaY*=t.mouseMultiplier,this._notify(e)})),t(this,"_onMouseWheel",(e=>{var t=this._event;t.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,t.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)})),t(this,"_onTouchStart",(e=>{var t=e.targetTouches?e.targetTouches[0]:e;this._touchStart.x=t.pageX,this._touchStart.y=t.pageY})),t(this,"_onTouchMove",(e=>{var t=this._options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var n=this._event,i=e.targetTouches?e.targetTouches[0]:e;n.deltaX=(i.pageX-this._touchStart.x)*t.touchMultiplier,n.deltaY=(i.pageY-this._touchStart.y)*t.touchMultiplier,this._touchStart.x=i.pageX,this._touchStart.y=i.pageY,this._notify(e)})),t(this,"_onMouseStart",(e=>{this.mousedown=!0;var t=e.targetTouches?e.targetTouches[0]:e;this._touchStart.x=t.pageX,this._touchStart.y=t.pageY})),t(this,"_onMouseMove",(e=>{if(this.mousedown){var t=this._options;t.preventTouch&&!e.target.classList.contains(t.unpreventTouchClass)&&e.preventDefault();var n=this._event,i=e.targetTouches?e.targetTouches[0]:e;n.deltaX=(i.pageX-this._touchStart.x)*t.desktopDragMultiplier,n.deltaY=(i.pageY-this._touchStart.y)*t.desktopDragMultiplier,this._touchStart.x=i.pageX,this._touchStart.y=i.pageY,this._notify(e)}})),t(this,"_onMouseStop",(e=>{this.mousedown=!1})),t(this,"_onKeyDown",(e=>{var t=this._event;t.deltaX=t.deltaY=0;var n=window.innerHeight-40;switch(e.keyCode){case bl:case _l:t.deltaY=this._options.keyStep;break;case wl:case kl:t.deltaY=-this._options.keyStep;break;case xl:t.deltaY=n*(e.shiftKey?1:-1);break;default:return}this._notify(e)})),this._el=window,e&&e.el&&(this._el=e.el,delete e.el),Cl||(Cl={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1,isWindows:window.navigator.platform.indexOf("Win")>-1});this._options=Object.assign({mouseMultiplier:.25,touchMultiplier:2,desktopDragMultiplier:2,firefoxMultiplier:3.75,windowsMultiplier:3.75,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},e),this._emitter=new ge,this._event={y:0,x:0,deltaX:0,deltaY:0},this._touchStart={x:null,y:null},this._bodyTouchAction=null,void 0!==this._options.passive&&(this.listenerOptions={passive:this._options.passive})}_notify(e){var t=this._event;t.x+=t.deltaX,t.y+=t.deltaY,this._emitter.emit($l,{x:t.x,y:t.y,deltaX:t.deltaX,deltaY:t.deltaY,originalEvent:e})}_bind(){Cl.hasWheelEvent&&this._el.addEventListener("wheel",this._onWheel,this.listenerOptions),Cl.hasMouseWheelEvent&&this._el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),Cl.hasTouch&&this._options.useTouch&&(this._el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this._el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),this._el.addEventListener("mousedown",this._onMouseStart,this.listenerOptions),this._el.addEventListener("mousemove",this._onMouseMove,this.listenerOptions),this._el.addEventListener("mouseup",this._onMouseStop,this.listenerOptions),Cl.hasPointer&&Cl.hasTouchWin&&(this._bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this._el.addEventListener("MSPointerDown",this._onTouchStart,!0),this._el.addEventListener("MSPointerMove",this._onTouchMove,!0)),Cl.hasKeyDown&&this._options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)}_unbind(){Cl.hasWheelEvent&&this._el.removeEventListener("wheel",this._onWheel),Cl.hasMouseWheelEvent&&this._el.removeEventListener("mousewheel",this._onMouseWheel),Cl.hasTouch&&(this._el.removeEventListener("touchstart",this._onTouchStart),this._el.removeEventListener("touchmove",this._onTouchMove)),this._el.removeEventListener("mousedown",this._onMouseStart),this._el.removeEventListener("mousemove",this._onMouseMove),this._el.removeEventListener("mouseup",this._onMouseStop),Cl.hasPointer&&Cl.hasTouchWin&&(document.body.style.msTouchAction=this._bodyTouchAction,this._el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this._el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),Cl.hasKeyDown&&this._options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)}on(e,t){this._emitter.on($l,e,t);var n=this._emitter.e;n&&n[$l]&&1===n[$l].length&&this._bind()}off(e,t){this._emitter.off($l,e,t);var n=this._emitter.e;(!n[$l]||n[$l].length<=0)&&this._unbind()}destroy(){this._emitter.off(),this._unbind()}}function Ml(){const e=o.$store.phone;let t=ye(),n=null,i=null,s=null,l=o.$device.type.desktop,r=0,c=0,u=0,d=0,p=0,f=!1;function h(){i&&(r=i.offsetHeight)}function v(t){const n=e.height,s=r-n;u=g(u,-s,0),s!==c&&(d=u,c=s);d=be(d,u,l?.2:.3,t,.01);const a=~~(100*d)/100,o=Math.abs(a-p)>1;o!==f&&(f=o,i.classList.toggle("phone-tab-moving",f)),a!==p&&(p=a,i.style.transform="translateY("+p+"px)")}e.useRealScroll||(_((()=>function(){if(s)return;const o=t.vnode.el;if(i=o.querySelector("[data-scrollable]"),!i)return;s=new Sl,s.on((e=>u+=e.deltaY)),n=a((()=>e.scale),h,{immediate:!0}),m.add(v)}())),q((()=>function(){s&&s.destroy();m.remove(v),i=t=s=null,n&&n()}())))}const Tl={class:"phone-tab fintechs"},El={"data-scrollable":"",class:"content"},Ll=["onClick"],Pl=(e=>(P("data-v-e1d68c88"),e=e(),I(),e))((()=>u("div",{class:"fintech-border"},null,-1))),Il={class:"fintech-card"},Al=["aria-label","onClick"],Dl={class:"fintech-content"},Fl=["innerHTML"],Ol={class:"fintech-tags"},zl=n({__name:"Fintechs",setup(e){const t=Object.values(o.$fintechs.list).filter((e=>!e.isHidden)).sort(((e,t)=>e.name.localeCompare(t.name))).sort(((e,t)=>+t.isInterest-+e.isInterest));function n(e){o.$store.phone.tab.id="FintechDetails",o.$store.phone.tab.props={fintech:e,isFromDialog:!1},o.$webgl.audio.playSound("sfx_phone_click_medium")}return Ml(),(e,i)=>(r(),c("article",Tl,[p(yl),u("div",El,[p(ul,{title:e.$l("phone.title.fintech"),description:e.$l("phone.desc.fintech")},null,8,["title","description"]),(r(!0),c(B,null,j(d(t),(e=>(r(),c("section",{key:e.id,class:"fintech",onClick:t=>n(e.id)},[Pl,u("div",Il,[u("button",{class:"fintech-badge-wrapper","aria-label":e.id,onClick:t=>n(e.id)},[p(H,{icon:`logo-fintech-${e.id}`,class:"fintech-badge"},null,8,["icon"]),e.isInterest?(r(),$(Yo,{key:0})):f("",!0)],8,Al),u("div",Dl,[u("p",{innerHTML:e.description},null,8,Fl),u("div",Ol,[(r(!0),c(B,null,j(e.tags,(e=>(r(),$(pl,{key:e,text:e},null,8,["text"])))),128))])])])],8,Ll)))),128))]),p(ml)]))}},[["__scopeId","data-v-e1d68c88"]]),Bl={class:"badge-wrapper"},Hl={class:"badge"},Vl={class:"item-state"},Nl={key:0,class:"item-collected"},jl={key:1,class:"item-locked"},Yl={class:"buy-cta-info coastal-points"},Rl={class:"buy-cta-label"},Xl={key:3,class:"coastal-points"},ql=n({__name:"Accessory",props:{item:{type:String,default:null}},setup(e){const t=e,n=s(),i=M.get("phone-point",64,64),h="phone-accessory-"+t.item,v=M.get(`item-${t.item}`,128,256),m=o.$savestate.game,g=o.$items.all[t.item],y=b((()=>{if(g)return g.isClaimed?"collected":g.price<0?"locked":m.coastalPoints>=g.price?"buyable":"too-expensive"}));a(y,(()=>{n.value&&E({target:n.value,animation:"bounce-simple",duration:400,easing:"outQuint"})}));const _=b((()=>g&&g.hasEffect));return(e,t)=>{const s=l("SvgIcon");return r(),c("article",{ref_key:"base",ref:n,class:S(["item",y.value])},[u("div",Bl,[u("div",Hl,[d(v)?(r(),$(d(L),{key:0,class:"badge-image","cache-id":h,alt:"Item",contain:!0,url:d(v)},null,8,["url"])):f("",!0)]),_.value?(r(),$(Yo,{key:0,icon:"fire"})):f("",!0)]),u("div",Vl,["collected"==y.value?(r(),c("div",Nl,[p(s,{id:"check"})])):"locked"==y.value?(r(),c("div",jl,[p(s,{id:"lock"})])):"buyable"==y.value?(r(),$(x,{key:2,size:"sm",class:"buy-cta",color:"blue",onClick:t[0]||(t[0]=e=>{return t=d(g),o.$items.buy(t.id),o.$webgl.audio.playSound("sfx_phone_claim"),void o.$analytics.event({event_category:"phone",event_action:"progressUnlock",event_value:t.id});var t})},{default:O((()=>[u("div",Yl,[u("span",null,C(d(g).price),1),p(d(L),{class:"points",alt:"Coastal Points",contain:!0,url:d(i)},null,8,["url"])]),u("div",Rl,C(e.$l("cta.buy")),1)])),_:1})):(r(),c("div",Xl,[u("span",null,C(d(g).price),1),p(d(L),{class:"points",alt:"Coastal Points",contain:!0,url:d(i)},null,8,["url"])]))])],2)}}},[["__scopeId","data-v-d4312759"]]),Wl={class:"phone-tab accessories"},Ul={"data-scrollable":"",class:"content"},Gl={class:"coastal-points"},Kl={class:"items-grid"},Ql=n({__name:"Accessories",setup(e){const t=s(),n=M.get("phone-point"),i=s();Ml(),v((()=>i.value=o.$savestate.game.coastalPoints)),a(i,(()=>{t.value&&E({target:t.value,animation:"coastalpoints",easing:"outQuint",duration:500})}));const l=o.$items.all,f=[];return Object.keys(l).forEach((e=>{const t=l[e];t&&0!==t.price&&f.push(t)})),f.sort(((e,t)=>(e.price>0?e.price:-1e4*e.price)>(t.price>0?t.price:-1e4*t.price)?1:-1)),(e,s)=>(r(),c("article",Wl,[p(yl),u("div",Ul,[p(ul,{title:e.$l("phone.title.cp"),description:e.$l("phone.desc.cp")},null,8,["title","description"]),u("section",{ref_key:"cpWrapper",ref:t,class:"coastal-points-wrapper"},[u("div",Gl,[u("span",null,C(i.value),1),p(d(L),{"height-ratio":"100%",contain:!0,url:d(n)},null,8,["url"])])],512),u("section",Kl,[(r(),c(B,null,j(f,(e=>p(ql,{key:e,item:e.id},null,8,["item"]))),64))])]),p(ml)]))}},[["__scopeId","data-v-be0e0387"]]),Zl={class:"phone-tab customization"},Jl={class:"content fullscreen"},er={class:"character-wrapper"},tr={class:"character"},nr={class:"buttons"},ir={class:"item-content"},sr={class:"new-tag"},ar=(e=>(P("data-v-6265caba"),e=e(),I(),e))((()=>u("div",{class:"new-dot"},null,-1))),or={class:"new-text"},lr={class:"floating-hanger"},rr={class:"floating-item"},cr=n({__name:"Customization",setup(e){const t=o.$router,n=M.get("phone-customization"),s=M.get("item-Head-Heaset"),a=M.get(`item-${o.$store.newItem}`),l={character0:i.list(Object.assign({"/assets/images/character-assets/character_1.avif":_e,"/assets/images/character-assets/character_1.png":we,"/assets/images/character-assets/character_1.webp":ke})),character1:i.list(Object.assign({"/assets/images/character-assets/character_2.avif":xe,"/assets/images/character-assets/character_2.png":$e,"/assets/images/character-assets/character_2.webp":Ce,"/assets/images/character-assets/character_2.xmp":Se})),character2:i.list(Object.assign({"/assets/images/character-assets/character_3.avif":Me,"/assets/images/character-assets/character_3.png":Te,"/assets/images/character-assets/character_3.webp":Ee})),character3:i.list(Object.assign({"/assets/images/character-assets/character_4.avif":Le,"/assets/images/character-assets/character_4.png":Pe,"/assets/images/character-assets/character_4.webp":Ie})),character4:i.list(Object.assign({"/assets/images/character-assets/character_5.avif":Ae,"/assets/images/character-assets/character_5.png":De,"/assets/images/character-assets/character_5.webp":Fe}))};async function h(){o.$webgl.audio.playSound("sfx_phone_click_medium"),o.$store.phone.isFullScreen||(t.push({name:"Home"}),await T(850)),t.push({name:"Customize"}),o.$store.newItemNeedsUpdate=!0,o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$analytics.event({event_category:"phone",event_action:"openCustomization",event_value:""})}async function v(){o.$webgl.audio.playSound("sfx_phone_click_medium"),o.$store.phone.tab.id="Accessories",o.$store.phone.tab.props=null,o.$webgl.audio.playSound("sfx_phone_click_soft")}return(e,t)=>(r(),c("article",Zl,[p(yl),u("div",Jl,[p(ul,{title:e.$l("phone.title.customize"),description:e.$l("phone.desc.customize")},null,8,["title","description"]),u("div",er,[u("div",tr,[p(he,{type:e.$savestate.game.player.face},null,8,["type"]),p(d(L),{"height-ratio":"200.3%",contain:!0,url:l[d(o).$savestate.game.player.color]},null,8,["url"])])]),u("section",nr,[d(o).$store.newItem?(r(),c("button",{key:0,class:"item",onClick:h},[u("div",ir,[p(d(L),{class:"item-picture",contain:!0,url:d(a)},null,8,["url"]),u("div",sr,[ar,u("p",or,C(e.$l("phone.new.item")),1)])])])):f("",!0),p(x,{color:"red",text:e.$l("cta.customize"),class:"customize-cta",onClick:h},null,8,["text"]),p(x,{color:"blue",text:e.$l("cta.shop"),class:"shop-cta",onClick:v},null,8,["text"])]),u("div",lr,[p(d(L),{class:"hanger",contain:!0,url:d(n)},null,8,["url"])]),u("div",rr,[p(d(L),{class:"custoItem",contain:!0,url:d(s)},null,8,["url"])])]),p(ml)]))}},[["__scopeId","data-v-6265caba"]]),ur={class:"steps"},dr=(e=>(P("data-v-dd5fe7e1"),e=e(),I(),e))((()=>u("span",null,"/",-1))),pr=n({__name:"QuestCardSteps",props:{steps:{type:[Number,String],default:1},currentStep:{type:[Number,String],default:0}},setup(e){const t=e;return(e,n)=>(r(),c("div",ur,[u("span",null,C(t.currentStep),1),dr,u("span",null,C(t.steps),1)]))}},[["__scopeId","data-v-dd5fe7e1"]]),fr={class:"lock"};const hr=n({},[["render",function(e,t){const n=l("SvgIcon");return r(),c("div",fr,[p(n,{id:"lock"})])}],["__scopeId","data-v-40602d65"]]),vr={class:"progress-bar"},mr=n({__name:"QuestCardProgressBar",props:{steps:{type:[Number,String],default:1},currentStep:{type:[Number,String],default:0}},setup(e){const t=e;return(e,n)=>(r(),c("div",vr,[u("div",{class:"bar",style:N(`--bar-size: ${t.currentStep/t.steps*100+"%"};`)},null,4)]))}},[["__scopeId","data-v-4a6162bf"]]),gr=e=>(P("data-v-a6a26e1b"),e=e(),I(),e),yr={class:"card-header-text"},br=["innerHTML"],_r=gr((()=>u("span",{class:"plus"},"+",-1))),wr=gr((()=>u("span",{class:"plus"},"+",-1))),kr={class:"reward"},xr={class:"card-badge"},$r={class:"card-wrapper"},Cr={key:0,class:"card-completed"},Sr={class:"check"},Mr={class:"card-completed-reward"},Tr=gr((()=>u("span",{class:"plus"},"+",-1))),Er={key:0,class:"reward"},Lr={key:1,class:"card-content"},Pr=["innerHTML"],Ir=["innerHTML"],Ar=gr((()=>u("div",{class:"card-background"},null,-1))),Dr=n({__name:"QuestCard",props:{id:{type:String,default:null}},setup(e){const t=e,n=o.$quests.list[t.id],i=M.get("phone-point",128,256),s=M.get(n.icon,128,256),a=b((()=>n.unlocked?n.unlocked&&!n.completed?"in-progress":"completed":"locked"));return(e,t)=>(r(),c("article",{class:S(["card",[d(n).type,a.value]])},[u("header",{class:S(["card-header",{"header-item":"completed"!=a.value&&d(n).rewardItem}])},[u("div",yr,["completed"==a.value?(r(),c("span",{key:0,class:"text",innerHTML:d(n).title},null,8,br)):d(n).rewardItem?(r(),c(B,{key:1},[_r,p(d(L),{class:"reward-item",alt:"Reward Item",contain:!0,url:d(M).get("item-"+d(n).rewardItem.id,128,256)},null,8,["url"])],64)):(r(),c(B,{key:2},[wr,u("span",kr,C(d(n).reward),1),p(d(L),{class:"coastal-points",alt:"Coastal Points",contain:!0,url:d(i)},null,8,["url"])],64))])],2),u("div",xr,[p(d(H),{size:"sm",image:d(s)},null,8,["image"])]),u("div",$r,["completed"==a.value?(r(),c("section",Cr,[u("div",Sr,[p(Oe,{color:"yellow"})]),u("div",Mr,[Tr,d(n).reward?(r(),c("span",Er,C(d(n).reward),1)):f("",!0),d(n).rewardItem?(r(),$(d(L),{key:1,class:"coastal-points coastal-items",alt:"Coastal Points",contain:!0,url:d(M).get("item-"+d(n).rewardItem.id,128,256)},null,8,["url"])):(r(),$(d(L),{key:2,class:"coastal-points",alt:"Coastal Points",contain:!0,url:d(i)},null,8,["url"]))])])):(r(),c("section",Lr,["in-progress"==a.value?(r(),c("h3",{key:0,innerHTML:e.$tpl(d(n).description??"")},null,8,Pr)):(r(),c("p",{key:1,innerHTML:e.$tpl(d(n).unlockText??"")},null,8,Ir)),"in-progress"==a.value&&d(n).hasProgressBar?(r(),$(d(mr),{key:2,steps:d(n).progressBarMax,"current-step":d(n).progressBarValue},null,8,["steps","current-step"])):f("",!0)])),Ar]),"in-progress"==a.value&&d(n).hasProgressBar?(r(),$(d(pr),{key:0,steps:d(n).progressBarMax,"current-step":d(n).progressBarValue},null,8,["steps","current-step"])):f("",!0),"locked"==a.value&&"Main"!=d(n).type?(r(),$(d(hr),{key:1})):f("",!0)],2))}},[["__scopeId","data-v-a6a26e1b"]]),Fr={class:"phone-tab quests"},Or={"data-scrollable":"",class:"content"},zr={class:"quests-list"},Br={key:0,class:"subtitle"},Hr={class:"quests-list"},Vr={key:0},Nr={class:"subtitle"},jr={class:"quests-list"},Yr=n({__name:"Quests",setup(e){const t={Main:1e7,Fintech:2,Side:1},n=e=>{const n=e.rewardItem?1e5:0;return 1*t[e.type]+100*e.reward+n};let i=[],s=[],a=[];return Object.values(o.$quests.list).sort(((e,t)=>e.id.localeCompare(t.id))).sort(((e,t)=>n(t)-n(e))).forEach((e=>{e.completed?a.push(e):e.unlocked?i.push(e):e.unlockText&&s.push(e)})),Ml(),(e,t)=>(r(),c("article",Fr,[p(yl),u("div",Or,[p(ul,{title:e.$l("phone.title.quest"),description:e.$l("phone.desc.quest")},null,8,["title","description"]),u("section",null,[u("ul",zr,[(r(!0),c(B,null,j(d(i),(e=>(r(),c("li",{key:e.id},[p(Dr,{id:e.id},null,8,["id"])])))),128))])]),u("section",null,[d(s).length>0?(r(),c("h2",Br,C(e.$l("quest.locked")),1)):f("",!0),u("ul",Hr,[(r(!0),c(B,null,j(d(s),(e=>(r(),c("li",{key:e.id},[p(Dr,{id:e.id},null,8,["id"])])))),128))])]),d(a).length>0?(r(),c("section",Vr,[u("h2",Nr,C(e.$l("quest.completed")),1),u("ul",jr,[(r(!0),c(B,null,j(d(a),(e=>(r(),c("li",{key:e.id,class:"completed-quest"},[p(Dr,{id:e.id},null,8,["id"])])))),128))])])):f("",!0)]),p(ml)]))}},[["__scopeId","data-v-175b67d6"]]),Rr={class:"phone-video"},Xr=["data-id"],qr=n({__name:"FintechVideo",props:{videoId:{type:String,default:null}},emits:["playVideo"],setup(e,{emit:t}){const n=e,i=s(),a=s(),l=s(),f=n.videoId.trim();function h(){o.$store.isVideoPlaying=!0,l.value.style.display="none",i.value=document.createElement("iframe"),i.value.setAttribute("src","https://www.youtube-nocookie.com/embed/"+f+"?autoplay=1&controls=2&showinfo=0&modestbranding=0&rel=0&iv_load_policy=3"),i.value.setAttribute("frameborder","0"),i.value.setAttribute("allowfullscreen","1"),i.value.setAttribute("allow","autoplay; fullscreen; encrypted-media;"),a.value.parentNode.replaceChild(i.value,a.value),t("playVideo"),o.$webgl.audio.playSound("sfx_phone_click_medium")}return _((()=>{!function(){const e=document.createElement("div");e.setAttribute("data-id",f),e.setAttribute("class","thumbnail");const t=document.createElement("img");t.src=`https://img.youtube.com/vi/${f}/hqdefault.jpg`,e.appendChild(t),a.value.appendChild(e)}()})),q((()=>{i.value&&i.value.parentNode&&i.value.parentNode.removeChild(i.value),o.$store.isVideoPlaying=!1})),(e,t)=>(r(),c("div",Rr,[u("div",{ref_key:"player",ref:a,class:"phone-player","data-id":d(f)},null,8,Xr),u("div",{ref_key:"play",ref:l,class:"phone-play",onClick:h},[p(k,{"aria-label":e.$l("arialabel.play"),icon:"play","bg-color":"white","icon-color":"blue",class:"video-play"},null,8,["aria-label"])],512)]))}},[["__scopeId","data-v-de14ca1a"]]),Wr={class:"content","data-scrollable":""},Ur={class:"article-content"},Gr={class:"tags"},Kr=["innerHTML"],Qr=["innerHTML"],Zr=["innerHTML"],Jr={class:"phone-tab-container"},ec={Map:{component:ll},Fintechs:{component:zl},Accessories:{component:Ql},Customization:{component:cr},Quests:{component:Yr},FintechDetails:{component:n({__name:"FintechDetails",props:["fintech","isFromDialog"],setup(e){const t=e,n=s(),i=o.$fintechs.list,a=b((()=>i[t.fintech]||Object.keys(i)[0])),d=b((()=>!!t.isFromDialog)),h=e=>e.charAt(0).toUpperCase()+e.slice(1);function v(){o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$analytics.event({event_category:"phone",event_action:`access_${h(a.value.id)}CtaTop`,event_value:""})}function m(){o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$analytics.event({event_category:"phone",event_action:`access_${h(a.value.id)}CtaBottom`,event_value:""})}function g(){o.$webgl.audio.bgm.suspend(!0),o.$analytics.event({event_category:"phone",event_action:`play_${h(a.value.id)}Video`,event_value:""})}function y(){o.$store.phone.tab.id="Fintechs",o.$store.phone.tab.props=null,o.$webgl.audio.playSound("sfx_phone_click_soft")}function _(){o.$webgl.audio.playSound("sfx_phone_click_soft"),o.$router.push({name:"Home"})}return Ml(),q((()=>{o.$webgl.audio.bgm.suspend(!1)})),(e,t)=>{const i=l("SvgIcon");return r(),c("article",{key:a.value.id,class:"phone-tab article",style:N(`--background: ${a.value.colors.primary};`)},[u("header",{ref_key:"header",ref:n,class:S(["article-header",{"from-dialog":d.value}])},[u("section",null,[d.value?f("",!0):(r(),$(k,{key:0,"aria-label":e.$l("arialabel.back"),icon:"arrow","bg-color":"white","icon-color":"blue",class:"article-back",onClick:y},null,8,["aria-label"])),p(i,{id:"logo-fintech-"+a.value.id},null,8,["id"])]),u("section",null,[p(k,{"aria-label":e.$l("arialabel.link"),icon:"share","bg-color":"white","icon-color":"blue",class:"share-cta",href:a.value.url,onClick:v},null,8,["aria-label","href"]),d.value?(r(),$(k,{key:0,"aria-label":e.$l("arialabel.close"),icon:"cross","bg-color":"white","icon-color":"blue",onClick:_},null,8,["aria-label"])):f("",!0)])],2),u("div",Wr,[u("section",Ur,[u("div",Gr,[(r(!0),c(B,null,j(a.value.tags,(e=>(r(),$(pl,{key:e,text:e},null,8,["text"])))),128))]),a.value.textA?(r(),c("p",{key:0,class:"text textA",innerHTML:a.value.textA},null,8,Kr)):f("",!0),a.value.video?(r(),$(qr,{key:1,"video-id":a.value.video,class:"article-video",onPlayVideo:g},null,8,["video-id"])):f("",!0),a.value.textB?(r(),c("p",{key:2,class:"text textB",innerHTML:a.value.textB},null,8,Qr)):f("",!0),a.value.news?(r(),c("section",{key:3,class:"article-news",innerHTML:a.value.news},null,8,Zr)):f("",!0),a.value.ctaUrl?(r(),$(x,{key:4,color:"blue",text:a.value.ctaText,class:"article-cta",href:a.value.ctaUrl,onClick:m},null,8,["text","href"])):f("",!0)])])],4)}}},[["__scopeId","data-v-3ef3e175"]]),useProps:!0}},tc=n({__name:"PhoneTabView",setup(e){const t="Map",n=o.$store.phone;n.tab.id="Map";const i=ze({key:null,id:null,component:null,props:null});let s=!0,l=0,u=null;function h(){if(!n.isVisible)return;l=performance.now();const e=n.tab,t=ec[e.id]||{},s=e.id;let a=e.id+"_"+JSON.stringify(e.props);const r=t.component||null,c=t.useProps?e.props:null;a!==i.key&&(!function(e,t){if("FintechDetails"===e){const e=o.$fintechs.list[t.fintech];e&&o.$analytics.pageview({title:`Coastal World - Phone - Fintechs - ${e.name}`,path:`/phone-fintechs-${e.id}`})}else o.$analytics.pageview({title:`Coastal World - Phone - ${e}`,path:`/phone-${e.toLowerCase()}`})}(s,c),Object.assign(i,{id:s,key:a,component:r,props:c}))}function v(e){e.classList.toggle("enter-instant",!!s),s||n.isFullScreen||n.triggerThumbAnim.emit(),s=!1}function m(e){e.classList.toggle("leave-instant",!1===n.visible)}return a([n.tab,()=>n.isVisible],(function([,e]){if(clearTimeout(u),!e)return function(){s=!0;const e=i.id;i.key=i.id=i.component=i.props=null,"FintechDetails"===e&&(n.tab.id=t,n.tab.props=null)}();const a=performance.now(),o=600-(a-l);s||o<=0?h():u=setTimeout(h,o)}),{immediate:!0}),(e,t)=>(r(),c("div",Jr,[p(z,{duration:{enter:600,leave:800},onBeforeEnter:v,onBeforeLeave:m},{default:O((()=>[d(i).component?(r(),$(Y(d(i).component),te({key:0},d(i).props,{key:d(i).key}),null,16)):f("",!0)])),_:1})]))}},[["__scopeId","data-v-bf11d546"]]);const nc=n({__name:"NewPhone",setup(e){const t=o.$router,n=o.$store.phone,i=s(),l=s(),h=s(),{listenKeys:v,unlistenKeys:m,isEscaped:g}=y();function b(){t.push({name:"Home"})}let w;function k(){w&&(i.value.style.animation="",w.destroy(),w=null)}a((()=>o.$route),(e=>{"Phone"===e.name?async function(){if(n.isVisible)return;const e=++x,t=i.value;if(v(),k(),n.isVisible=!0,t.style.visibility="visible",await Be(),await Be(),e!==x)return!0;t.getBoundingClientRect(),n.isFullScreen?await Be():await T(30);if(e!==x)return!0;n.isReady=!0,n.isFullScreen||(o.$webgl.audio.playSound("sfx_UI_customPlayer_open"),await T(350));if(e!==x)return!0;t.classList.remove("hidden"),t.classList.add("visible"),o.$webgl.audio.playSound("sfx_phone_open"),n.isFullScreen||(l.value.shineAnim(),h.value.wristAnim());if(await T(900),e!==x);}():async function(){if(!n.isVisible)return;const e=++x,t=i.value;if(k(),t.getBoundingClientRect(),t.classList.remove("visible"),t.classList.add("hidden"),m(),g.value=!1,n.isFullScreen)await T(100),o.$webgl.audio.playSound("sfx_phone_close"),n.isReady=!1,await T(500),n.isVisible=!1,await T(400);else{if(await T(400),e!==x)return!0;if(n.isReady=!1,o.$webgl.audio.playSound("sfx_phone_close"),o.$webgl.audio.playSound("sfx_UI_Dialog_CameraMove_Out",{delay:50}),await T(400),e!==x)return!0;n.isVisible=!1,await T(200)}if(e!==x)return!0;t.style.visibility="hidden"}()})),a((()=>g.value),(e=>{e&&b()})),Co((()=>{k(),w=E({target:i.value,name:"handShake",ease:"ease-in-out",fillMode:"none",duration:450})})),function(e){const t=375,n=o.$viewport;let i=!1,s=null;_((()=>{i=!0,s&&(e(s),s=null)})),a([()=>n.width,()=>n.height],(function([n,a]){const l=o.$device.type.mobile&&n<641,r=l||n<641,c=n,u=r?a:.81*a,d=Math.min(c/t,u/590),p=r?n:~~(t*d),f=r?a:~~(590*d),h=~~(p/t*1e3)/1e3;let v=1;if(h<.7?v=1.5:h<1&&(v=1.3),!e)return;const m={border:15*h,x:r?0:~~(.5*n-.5*p),y:r?0:~~(.5*a-.5*f),width:p,height:f,scale:h,ratio:~~(p/f*1e3)/1e3,textScale:v,isFullScreen:r,useRealScroll:l};i?e(m):s=m}),{immediate:!0})}((({border:e,width:t,height:s,x:a,y:o,useRealScroll:l,isFullScreen:r,scale:c,textScale:u,ratio:d})=>{const p=i.value;p.classList.toggle("is-full-screen",!!r),p.classList.toggle("use-real-scroll",!!l),p.style.setProperty("--phone-scale",c),p.style.setProperty("--phone-text-scale",u),p.style.setProperty("--phone-width",t+"px"),p.style.setProperty("--phone-height",s+"px"),p.style.setProperty("--phone-border",e+"px"),p.style.setProperty("--phone-x",a+"px"),p.style.setProperty("--phone-y",o+"px"),p.style.setProperty("--phone-ratio",d),n.x=a,n.y=o,n.width=t,n.height=s,n.border=e,n.scale=c,n.ratio=d,n.textScale=u,n.isFullScreen=r,n.useRealScroll=l}));let x=0;return(e,t)=>(r(),c(B,null,[u("section",{ref_key:"phone",ref:i,class:"new-phone"},[d(n).isFullScreen?f("",!0):(r(),$($o,{key:0})),d(n).isFullScreen?f("",!0):(r(),$(Do,{key:1,ref_key:"hand",ref:h},null,512)),p(Oo,{ref_key:"screen",ref:l},{default:O((()=>[p(Vo),e.$preloader.finished?(r(),$(tc,{key:0})):f("",!0)])),_:1},512)],512),d(o).$store.isPhoneOpen?(r(),c("div",{key:0,class:"phone-overlay","data-bypass-touch":"",onClick:b})):f("",!0)],64))}},[["__scopeId","data-v-99fe8ba9"]]);let ic=null;async function sc(){return await(ic||(ic=new Promise((e=>{window.onYouTubeIframeAPIReady=e;const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.appendChild(t)})))),window.YT}const ac={class:"cover"},oc=["data-loaded","src"],lc=0,rc=1,cc=2,uc=3,dc=4,pc=5,fc=n({__name:"YoutubePlayer",setup(e){const t=s(null),n=s(),i=s(null),l=s(!1),d=s(!1),h=s(0);let v=null,m=null,g=null,y=0,b=Promise.resolve();async function w(){h.value=uc,g.playVideo()}function C(){++y,o.$store.isVideoPlaying=!1,h.value=lc,v&&(g&&g.destroy(),g=null,v=null)}function M(e){return function(t){if(e!==y)return;const n=window.YT.PlayerState;t.data===n.UNSTARTED&&h.value===uc?h.value=cc:t.data===n.BUFFERING&&h.value===cc?h.value=uc:t.data===n.PLAYING&&h.value<dc?(h.value=dc,o.$store.isVideoPlaying=!0):t.data===n.ENDED&&h.value<pc&&P()}}async function E(e){const s=++y;h.value=rc,function(e){if(!n.value)return;const t=`https://i3.ytimg.com/vi/${e.id}/maxresdefault.jpg`;if(t===i.value)return;l.value=null,n.value.onload=()=>{n.value&&(l.value=!0)},i.value=t}(e),await T(100),s===y&&(v=await sc(),s===y&&(g&&g.destroy(),b=Ve(),g=new v.Player(t.value.firstElementChild,{videoId:m,width:"100%",height:"100%",playerVars:{rel:0,modestbranding:1,playsinline:1,iv_load_policy:3,fullscreen:0,color:"white"},events:{onReady:b.resolve,onStateChange:M(s)}}),await b,s===y&&(h.value=cc,o.$device.type.desktop&&g.playVideo())))}function L(){C()}function P(){d.value&&(++y,d.value=!1,o.$store.currentFullscreenVideo=!1,h.value=pc)}async function I(e){if(!e)return P();d.value=!0,await Be(),d.value&&(m=e.id,E(e))}return _((()=>{a((()=>o.$store.currentFullscreenVideo),I,{immediate:!0})})),q((()=>{C()})),(e,s)=>(r(),$(z,{onAfterLeave:L},{default:O((()=>[d.value?(r(),c("section",{key:0,class:S(["video",{ready:h.value>=cc,buffering:h.value===uc,playing:h.value>=dc,exiting:h.value>=pc}])},[p(x,{class:"skip-cta",text:"Skip",onClick:P}),u("div",ac,[p(k,{"aria-label":e.$l("arialabel.play"),icon:"play","bg-color":"white","icon-color":"blue",class:"cover-play",onClick:w},null,8,["aria-label"]),u("img",{ref_key:"thumb",ref:n,"data-loaded":l.value,src:i.value,draggable:"false",class:"cover-thumb"},null,8,oc)]),u("div",{ref_key:"container",ref:t,class:"videoContainer"},[s[0]||(He(-1),s[0]=u("div"),He(1),s[0])],512)],2)):f("",!0)])),_:1}))}},[["__scopeId","data-v-fd236ed7"]]),hc={class:"ui"},vc={__name:"App",setup(e){const t=o.$store;let n;!function(){const e=o.$device.type.phone?fe.mobile:fe.desktop;Ne("phone-map-illu",e,"Coastal map");for(let t in o.$items.all){const e=o.$items.all[t];if(e.price<=0)continue;const n="phone-accessory-"+e.id,i=M.get(`item-${e.id}`,128,256);Ne(n,i,e.name)}}(),o.$onetrust.init({key:"db8e2b5d-9bcc-4366-9b9b-cd75b694b7eb",categories:{Mandatory:"C0001",Analytics:"C0002",Functional:"C0003",Ads:"C0004",Social:"C0005",Performance:"C0007"},consentChanged:(e,t,n)=>{t&&"Analytics"===e&&o.$analytics.init()}}),a((()=>t.isLoggedIn),(e=>{e&&o.$analytics.event({event_category:"save",event_action:"logged-in",event_value:""})}),{immediate:!0}),a((()=>t.isMovingWithMouse),(e=>{document.body.classList.toggle("moving-with-mouse",!!e)}),{immediate:!0}),a((()=>t.currentBiome),(e=>{n&&document.body.classList.remove("biome-"+n),document.body.classList.add("biome-"+e.id),n=e.id}));const i=b((()=>!t.isTransitionActive&&!t.isOverlayVisible&&!t.isApiErrorVisible&&t.sceneState===t.sceneStates.Tutorial));return(e,t)=>{const n=l("NotificationCenter"),s=l("NiceRouterView"),a=l("WebGL");return r(),c(B,null,[u("main",hc,[p(n),e.$preloader.finished?(r(),$(xo,{key:0})):f("",!0),e.$preloader.finished?(r(),$(bt,{key:1})):f("",!0),e.$preloader.finished?(r(),$(mt,{key:2})):f("",!0),e.$preloader.finished?(r(),$(xt,{key:3})):f("",!0),e.$preloader.finished?(r(),$(Mt,{key:4})):f("",!0),e.$preloader.finished?(r(),$(Na,{key:5})):f("",!0),e.$preloader.finished?(r(),$(to,{key:6})):f("",!0),p(nc),p(s,{prefix:"page"}),e.$preloader.finished?(r(),$(La,{key:7})):f("",!0),e.$preloader.finished?(r(),$(io,{key:8})):f("",!0),e.$preloader.finished?(r(),$(je,{key:9,visible:i.value,world:!0},null,8,["visible"])):f("",!0),e.$preloader.finished?(r(),$(oo,{key:10})):f("",!0),e.$preloader.finished?(r(),$(vo,{key:11})):f("",!0),e.$preloader.finished?(r(),$(fc,{key:12})):f("",!0)]),p(It),p(Pt),p(a),e.$preloader.finished&&e.$device.type.phone?(r(),$(tt,{key:0})):f("",!0),Z(" "+C(),1)],64)}}};Ye();const mc=Re(vc),gc=window.__DATA.page.route,yc=window.__DATA.project.basepath;let bc=null;if("Home"===gc.name){const e=window.location.pathname.slice(yc.length);bc=(e.split("/").filter(Boolean)[0]||"").toLowerCase(),"onepay"===bc||"one-pay"===bc?bc="one":"greenfi"===bc?bc="aspiration":("incomm"===bc||"incomm-benefits"===bc)&&(bc="zenda")}(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&(Xe.add=()=>{}),qe((async()=>{await i.test(),await mc.usePreview(),mc.pluginManager.setOptions("router",{historyMode:We});const e=await mc.pluginManager.install(),t=e.$l;e.$tpl=t=>(t=(t=t.replace(/&#39;/g,"'")).replace(/&quot;/g,'"')).includes("{{")?t.replace(/{{([ a-z0-9+_.-]+)}}/gi,((t,n)=>{let i=null,s=0;const a=(n=n.trim()).match(/([+*/-]) ?([0-9]*)$/i);a&&(n=n.slice(0,-a[0].length).trim(),i=a[1],s=parseFloat(a[2]));let o=Ue(e.$store,n);return null==o?"":(isNaN(parseFloat(o))||("-"===i?o-=s:"+"===i?o+=s:"*"===i?o*=s:"/"===i&&(o/=s)),o)})):t,e.$l=e.$translation=(n,i=!1)=>e.$tpl(t(n,i)),e.$analytics.event=t=>e.$analytics.rawEvent({event:"ga_event",...t}),e.$preloader.setMinimumTaskCount(25);const n=new URL(document.location).searchParams,s=!!n.has("k")&&n.get("k");s&&await e.$savestate.auth(s);const o=async t=>{const n=e.$preloader.createTask();return await t,n.finish(),t};await Promise.all([o(e.$savestate.preload()),o(e.$manifest.load()),o(e.$fintechs.load()),o(e.$items.load())]),await o(e.$quests.load()),await e.$fintechs.initVariables();bc&&!e.$fintechs.list[bc]&&(bc=null),await e.$savestate.init({requestedFintech:bc,requestedChatAssistant:!1}),await e.$quests.init(),await e.$fintechs.linkQuests(),e.$preloader.task(Promise.all([new Ge("Gilmer",{weight:500}),new Ge("Gilmer",{weight:700}),new Ge("Comfortaa",{weight:400})].map((e=>e.load()))));let l=a((()=>e.$preloader.hidden),(e=>{e&&(l(),setTimeout((()=>{document.documentElement.classList.add("preloader-hidden")}),700))}));mc.mount("#app")}));
